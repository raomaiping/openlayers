{"version":3,"sources":["webpack:///./src/hooks/updateMapSize.js","webpack:///./src/views/map-marker/add-textand-pic/tools.js","webpack:///./src/views/map-marker/add-textand-pic/index.vue","webpack:///./src/views/map-marker/add-textand-pic/index.vue?f6d2","webpack:///./src/assets/blue.png","webpack:///./src/views/map-marker/add-textand-pic/index.vue?78af","webpack:///./node_modules/.pnpm/ol@6.15.1/node_modules/ol/style/Text.js","webpack:///./node_modules/.pnpm/ol@6.15.1/node_modules/ol/control/FullScreen.js","webpack:///./node_modules/.pnpm/ol@6.15.1/node_modules/ol/Overlay.js"],"names":["map","targetNode","document","querySelector","observer","MutationObserver","mutationsList","mutation","type","attributeName","i","length","updateSize","observe","attributes","childList","subtree","onBeforeUnmount","disconnect","createLabelStyle","feature","Style","image","Icon","anchor","anchorOrigin","anchorXUnits","anchorYUnits","offsetOrigin","scale","opacity","src","require","text","Text","textAlign","textBaseline","font","get","fill","Fill","color","stroke","Stroke","width","state","reactive","vectorSource","raster","TileLayer","source","XYZ","attributions","ATTRIBUTIONS","url","MAPURL","maxZoom","onMounted","initMap","Map","target","layers","view","View","projection","center","SHENZHEN","zoom","controls","defaults","extend","FullScreen","updateMapSize","iconFeature","Feature","geometry","Point","name","setStyle","VectorSource","features","vectorLayer","VectorLayer","addLayer","marker","Overlay","position","NANCHANG","positioning","element","getElementById","stopEvent","addOverlay","getElement","title","innerText","on","evt","ElMessage","message","coordinate","addVectorLabel","newFeature","addFeature","addOverlayLabel","elementDiv","createElement","className","appendChild","elementA","href","textContent","newMarker","newText","__exports__","module","exports","opt_options","options","this","font_","rotation_","rotation","rotateWithView_","rotateWithView","scale_","scaleArray_","undefined","text_","textAlign_","justify_","justify","textBaseline_","fill_","maxAngle_","maxAngle","Math","PI","placement_","placement","POINT","overflow_","overflow","stroke_","offsetX_","offsetX","offsetY_","offsetY","backgroundFill_","backgroundFill","backgroundStroke_","backgroundStroke","padding_","padding","prototype","clone","getScale","getFont","getPlacement","getMaxAngle","getOverflow","getRotation","getRotateWithView","Array","isArray","slice","getText","getTextAlign","getJustify","getTextBaseline","getFill","getStroke","getOffsetX","getOffsetY","getBackgroundFill","getBackgroundStroke","getPadding","getScaleArray","setOverflow","setFont","setMaxAngle","setOffsetX","setOffsetY","setPlacement","setRotateWithView","setFill","setRotation","setScale","setStroke","setText","setTextAlign","setJustify","setTextBaseline","setBackgroundFill","setBackgroundStroke","setPadding","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","call","TypeError","String","__","constructor","create","events","FullScreenEventType","_super","_this","once","un","keys_","keys","source_","isInFullscreen_","boundHandleMapTargetChange_","handleMapTargetChange_","bind","cssClassName_","documentListeners_","activeClassName_","activeClassName","split","inactiveClassName_","inactiveClassName","label","labelNode_","createTextNode","labelActive","labelActiveNode_","tipLabel","button_","setAttribute","addEventListener","CLICK","handleClick_","setClassName_","concat","event","preventDefault","handleFullScreen_","getMap","doc","getOwnerDocument","isFullScreenSupported","isFullScreen","exitFullscreen","exitFullScreen","getTargetElement","requestFullScreen","requestFullScreenWithKeys","handleFullScreenChange_","wasInFullscreen","dispatchEvent","fullscreen","_a","_b","_c","_d","classList","remove","apply","add","setMap","oldMap","removeChangeListener","TARGET","addChangeListener","listeners","ii","push","body","requestFullscreen","fullscreenEnabled","fullscreenElement","Property","id","insertFirst","style","pointerEvents","autoPan","animation","autoPanAnimation","margin","autoPanMargin","rendered","transform_","visible","mapPostrenderListenerKey","handleElementChanged","handleMapChanged","handleOffsetChanged","handlePositionChanged","handlePositioningChanged","setElement","setOffset","offset","setPositioning","setPosition","getId","getOffset","getPosition","getPositioning","POSTRENDER","render","updatePixelPosition","container","getOverlayContainerStopEvent","getOverlayContainer","insertBefore","childNodes","performAutoPan","set","panIntoView","opt_panIntoViewOptions","mapRect","getRect","getSize","overlayRect","panIntoViewOptions","myMargin","offsetLeft","offsetRight","offsetTop","offsetBottom","delta","abs","getView","getCenterInternal","centerPx","getPixelFromCoordinateInternal","newCenterPx","panOptions","animateInternal","getCoordinateFromPixelInternal","duration","easing","size","box","getBoundingClientRect","left","window","pageXOffset","top","pageYOffset","setVisible","display","isRendered","pixel","getPixelFromCoordinate","mapSize","updateRenderedPosition","x","round","y","posX","posY","transform","msTransform","getOptions"],"mappings":"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","file":"js/chunk-72af40b1.ed45d04e.js","sourcesContent":["import { onBeforeUnmount } from \"vue\";\n\n/**\n * 监听侧边栏，侧边栏发生变化更新地图\n * @param {ol.Map} map 地图实例\n */\nexport default (...map) => {\n  // 选择需要观察变动的节点\n  const targetNode = document.querySelector(\n    \".el-aside .menu .el-scrollbar__view\"\n  );\n  // 观察器的配置（需要观察什么变动）\n  const config = { attributes: true, childList: true, subtree: true };\n  // 当观察到变动时执行的回调函数\n  const callback = function (mutationsList) {\n    // Use traditional 'for loops' for IE 11\n    for (let mutation of mutationsList) {\n      if (mutation.type === \"childList\") {\n        // console.log(\"已添加或删除子节点。\");\n      } else if (\n        mutation.type === \"attributes\" &&\n        mutation.attributeName === \"style\"\n      ) {\n        for (let i = 0; i < map.length; i++) {\n          map[i].updateSize();\n        }\n\n        // console.log(\"这个 \" + mutation.attributeName + \" 属性被修改。\");\n      }\n    }\n  };\n  // 创建一个观察器实例并传入回调函数\n  const observer = new MutationObserver(callback);\n\n  // 以上述配置开始观察目标节点\n  observer.observe(targetNode, config);\n\n  //卸载前\n  onBeforeUnmount(() => {\n    observer.disconnect();\n  });\n};\n","import { Style, Icon, Text, Fill, Stroke } from \"ol/style\";\nimport { Feature, Overlay } from \"ol\";\nimport { Point } from \"ol/geom\";\n\n/**\n * 创建矢量标注样式函数,设置image为图标ol.style.Icon\n * @param {ol.Feature} feature 要素\n */\nexport const createLabelStyle = (feature) =>\n  new Style({\n    image: new Icon(\n      /** @type {olx.style.IconOptions} */\n      ({\n        //设置图标点\n        anchor: [0.5, 60],\n        //图标起点\n        anchorOrigin: \"top-right\",\n        //指定x值为图标点的x值\n        anchorXUnits: \"fraction\",\n        //指定Y值为像素的值\n        anchorYUnits: \"pixels\",\n        //偏移\n        offsetOrigin: \"top-right\",\n        // offset:[0,10],\n        //图标缩放比例\n        scale: 0.4,\n        //透明度\n        opacity: 0.75,\n        //图标的url\n        src: require(\"@/assets/blue.png\"),\n      })\n    ),\n    text: new Text({\n      //位置\n      textAlign: \"center\",\n      //基准线\n      textBaseline: \"middle\",\n      //文字样式\n      font: \"normal 14px 微软雅黑\",\n      //文本内容\n      text: feature.get(\"name\"),\n      //文本填充样式（即文字颜色）\n      fill: new Fill({ color: \"#aa3300\" }),\n      stroke: new Stroke({ color: \"#ffcc33\", width: 2 }),\n    }),\n  });\n\n/**\n * 添加一个新的标注（矢量要素）\n * @param {ol.Coordinate} coordinate 坐标点\n * @param {ol.source.Vector} vectorSource 矢量标注的数据源\n */\nexport const addVectorLabel = ({ coordinate, vectorSource }) => {\n  //新建一个要素 ol.Feature\n  var newFeature = new Feature({\n    //几何信息\n    geometry: new Point(coordinate),\n    //名称属性\n    name: \"标注点\",\n  });\n  //设置要素的样式\n  newFeature.setStyle(createLabelStyle(newFeature));\n  //将新要素添加到数据源中\n  vectorSource.addFeature(newFeature);\n};\n\n/**\n * 添加一个新的图文标注（overlay标注）\n * @param {ol.Coordinate} coordinate 坐标点\n * @param {ol.Map} map 地图实例\n */\nexport const addOverlayLabel = ({ coordinate, map }) => {\n  //新增div元素\n  const elementDiv = document.createElement(\"div\");\n  elementDiv.className = \"marker\";\n  elementDiv.title = \"标注点\";\n  // 获取id为label的元素\n  const overlay = document.getElementById(\"label\");\n  // 为ID为label的div层添加div子节点\n  overlay.appendChild(elementDiv);\n  //新增a元素\n  const elementA = document.createElement(\"a\");\n  elementA.className = \"address\";\n  elementA.href = \"#\";\n  //设置文本\n  setInnerText(elementA, elementDiv.title);\n  // 新建的div元素添加a子节点\n  elementDiv.appendChild(elementA);\n  console.log(elementDiv, elementA);\n  //实例化图文标注（图形+文本），添加到地图容器中\n  const newMarker = new Overlay({\n    position: coordinate,\n    positioning: \"center-center\",\n    element: elementDiv,\n    stopEvent: false,\n  });\n  map.addOverlay(newMarker);\n  const newText = new Overlay({\n    position: coordinate,\n    element: elementA,\n  });\n  map.addOverlay(newText);\n};\n/**\n * 动态设置元素文本内容（兼容）\n */\nfunction setInnerText(element, text) {\n  if (typeof element.textContent == \"string\") {\n    element.textContent = text;\n  } else {\n    element.innerText = text;\n  }\n}\n","<template>\n  <div id=\"top\">\n    选择标注类型后用鼠标在地图上点击添加标注：\n    <el-radio-group v-model=\"state.type\">\n      <el-radio label=\"vector\" size=\"large\">Vector Labels</el-radio>\n      <el-radio label=\"overlay\" size=\"large\">Overlay Labels</el-radio>\n    </el-radio-group>\n  </div>\n  <div id=\"label\" style=\"display: none\">\n    <div id=\"marker\" class=\"marker\" title=\"Marker\">\n      <a\n        class=\"address\"\n        id=\"address\"\n        target=\"_blank\"\n        href=\"https://juejin.cn/user/588993965598407\"\n        >标注点</a\n      >\n    </div>\n  </div>\n  <div id=\"map\"></div>\n</template>\n\n<script setup>\nimport 'ol/ol.css'\nimport { onMounted, reactive } from 'vue'\nimport { Map, View, Feature, Overlay } from 'ol'\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer'\nimport { defaults, FullScreen } from 'ol/control'\nimport { XYZ, Vector as VectorSource } from 'ol/source'\nimport { Point } from 'ol/geom'\nimport { ATTRIBUTIONS, SHENZHEN, MAPURL, NANCHANG } from '@/constants'\nimport { ElMessage } from 'element-plus'\nimport { createLabelStyle, addVectorLabel, addOverlayLabel } from './tools'\nimport updateMapSize from '@/hooks/updateMapSize'\n\nconst state = reactive({\n  map: null,\n  vectorSource: null,\n  type: '',\n})\nconst raster = new TileLayer({\n  source: new XYZ({\n    attributions: ATTRIBUTIONS,\n    url: MAPURL,\n    maxZoom: 20,\n  }),\n})\nconst initMap = () => {\n  state.map = new Map({\n    //初始化map\n    target: 'map',\n    //地图容器中加载的图层\n    layers: [\n      //加载瓦片图层数据\n      raster,\n    ],\n    view: new View({\n      projection: 'EPSG:4326', // 坐标系，有EPSG:4326和EPSG:3 857\n      center: SHENZHEN, // 深圳坐标\n      //地图初始显示级别\n      zoom: 5,\n    }),\n    //加载控件到地图容器中\n    controls: defaults().extend([\n      new FullScreen(), //加载全屏显示控件（目前支持非IE内核浏览器）\n    ]),\n  })\n  // 侧边栏变化更新地图\n  updateMapSize(state.map)\n  //实例化Vector要素，通过矢量图层添加到地图容器中\n  const iconFeature = new Feature({\n    geometry: new Point(SHENZHEN),\n    //名称属性\n    name: '深圳市',\n  })\n\n  iconFeature.setStyle(createLabelStyle(iconFeature))\n  //矢量标注的数据源\n  state.vectorSource = new VectorSource({\n    features: [iconFeature],\n  })\n  //矢量标注图层\n  const vectorLayer = new VectorLayer({\n    source: state.vectorSource,\n  })\n  state.map.addLayer(vectorLayer)\n\n  // 实例化overlay标注，添加到地图容器中\n  const marker = new Overlay({\n    position: NANCHANG,\n    positioning: 'center-center',\n    element: document.getElementById('marker'),\n    stopEvent: false,\n  })\n  state.map.addOverlay(marker)\n  marker.getElement().title = '南昌市'\n  var text = new Overlay({\n    position: NANCHANG,\n    element: document.getElementById('address'),\n  })\n  state.map.addOverlay(text)\n  text.getElement().innerText = marker.getElement().title\n}\n\nonMounted(() => {\n  initMap()\n  state.map.on('click', (evt) => {\n    if (!state.type) {\n      ElMessage({\n        message: '请先选择标注类型后用鼠标在地图上点击添加标注',\n        type: 'warning',\n      })\n      return\n    }\n    //鼠标单击点坐标\n    const coordinate = evt.coordinate\n    if (state.type === 'vector') {\n      //添加一个新的标注（矢量要素）\n      addVectorLabel({\n        coordinate,\n        vectorSource: state.vectorSource,\n      })\n    }\n    if (state.type === 'overlay') {\n      //添加新的图文标注（overlay标注）\n      addOverlayLabel({ coordinate, map: state.map })\n    }\n  })\n})\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#map {\n  position: absolute;\n  top: 50px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n#top {\n  text-align: center;\n  height: 50px;\n  line-height: 50px;\n}\n:deep(.marker) {\n  width: 20px;\n  height: 20px;\n  border: 1px solid #088;\n  border-radius: 10px;\n  background-color: #0ff;\n  opacity: 0.5;\n}\n\n:deep(.address) {\n  text-decoration: none;\n  color: #aa3300;\n  font-size: 14px;\n  font-weight: bold;\n  text-shadow: black 0.1em 0.1em 0.2em;\n}\n.mobile #top {\n  height: 100px;\n}\n.mobile #map {\n  top: 100px;\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f880b6ce&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/openlayers/openlayers/node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.4.6_vue@3.4.6_webpack@4.47.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f880b6ce\"]])\n\nexport default __exports__","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.47.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.4.6_vue@3.4.6_webpack@4.47.0/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.4.6_vue@3.4.6_webpack@4.47.0/node_modules/vue-loader/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=f880b6ce&scoped=true&lang=css\"","/**\n * @module ol/style/Text\n */\nimport Fill from './Fill.js';\nimport TextPlacement from './TextPlacement.js';\nimport { toSize } from '../size.js';\n/**\n * The default fill color to use if no fill was set at construction time; a\n * blackish `#333`.\n *\n * @const {string}\n */\nvar DEFAULT_FILL_COLOR = '#333';\n/**\n * @typedef {Object} Options\n * @property {string} [font] Font style as CSS 'font' value, see:\n * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/font. Default is '10px sans-serif'\n * @property {number} [maxAngle=Math.PI/4] When `placement` is set to `'line'`, allow a maximum angle between adjacent characters.\n * The expected value is in radians, and the default is 45° (`Math.PI / 4`).\n * @property {number} [offsetX=0] Horizontal text offset in pixels. A positive will shift the text right.\n * @property {number} [offsetY=0] Vertical text offset in pixels. A positive will shift the text down.\n * @property {boolean} [overflow=false] For polygon labels or when `placement` is set to `'line'`, allow text to exceed\n * the width of the polygon at the label position or the length of the path that it follows.\n * @property {import(\"./TextPlacement.js\").default|string} [placement='point'] Text placement.\n * @property {number|import(\"../size.js\").Size} [scale] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the text with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {string|Array<string>} [text] Text content or rich text content. For plain text provide a string, which can\n * contain line breaks (`\\n`). For rich text provide an array of text/font tuples. A tuple consists of the text to\n * render and the font to use (or `''` to use the text style's font). A line break has to be a separate tuple (i.e. `'\\n', ''`).\n * **Example:** `['foo', 'bold 10px sans-serif', ' bar', 'italic 10px sans-serif', ' baz', '']` will yield \"**foo** *bar* baz\".\n * **Note:** Rich text is not supported for the immediate rendering API.\n * @property {string} [textAlign] Text alignment. Possible values: 'left', 'right', 'center', 'end' or 'start'.\n * Default is 'center' for `placement: 'point'`. For `placement: 'line'`, the default is to let the renderer choose a\n * placement where `maxAngle` is not exceeded.\n * @property {string} [justify] Text justification within the text box.\n * If not set, text is justified towards the `textAlign` anchor.\n * Otherwise, use options `'left'`, `'center'`, or `'right'` to justify the text within the text box.\n * **Note:** `justify` is ignored for immediate rendering and also for `placement: 'line'`.\n * @property {string} [textBaseline='middle'] Text base line. Possible values: 'bottom', 'top', 'middle', 'alphabetic',\n * 'hanging', 'ideographic'.\n * @property {import(\"./Fill.js\").default} [fill] Fill style. If none is provided, we'll use a dark fill-style (#333).\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {import(\"./Fill.js\").default} [backgroundFill] Fill style for the text background when `placement` is\n * `'point'`. Default is no fill.\n * @property {import(\"./Stroke.js\").default} [backgroundStroke] Stroke style for the text background  when `placement`\n * is `'point'`. Default is no stroke.\n * @property {Array<number>} [padding=[0, 0, 0, 0]] Padding in pixels around the text for decluttering and background. The order of\n * values in the array is `[top, right, bottom, left]`.\n */\n/**\n * @classdesc\n * Set text style for vector features.\n * @api\n */\nvar Text = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Text(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.font_ = options.font;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.rotation_ = options.rotation;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        this.rotateWithView_ = options.rotateWithView;\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size|undefined}\n         */\n        this.scale_ = options.scale;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.scaleArray_ = toSize(options.scale !== undefined ? options.scale : 1);\n        /**\n         * @private\n         * @type {string|Array<string>|undefined}\n         */\n        this.text_ = options.text;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.textAlign_ = options.textAlign;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.justify_ = options.justify;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.textBaseline_ = options.textBaseline;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.fill_ =\n            options.fill !== undefined\n                ? options.fill\n                : new Fill({ color: DEFAULT_FILL_COLOR });\n        /**\n         * @private\n         * @type {number}\n         */\n        this.maxAngle_ =\n            options.maxAngle !== undefined ? options.maxAngle : Math.PI / 4;\n        /**\n         * @private\n         * @type {import(\"./TextPlacement.js\").default|string}\n         */\n        this.placement_ =\n            options.placement !== undefined ? options.placement : TextPlacement.POINT;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.overflow_ = !!options.overflow;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.offsetX_ = options.offsetX !== undefined ? options.offsetX : 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.offsetY_ = options.offsetY !== undefined ? options.offsetY : 0;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.backgroundFill_ = options.backgroundFill\n            ? options.backgroundFill\n            : null;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.backgroundStroke_ = options.backgroundStroke\n            ? options.backgroundStroke\n            : null;\n        /**\n         * @private\n         * @type {Array<number>|null}\n         */\n        this.padding_ = options.padding === undefined ? null : options.padding;\n    }\n    /**\n     * Clones the style.\n     * @return {Text} The cloned style.\n     * @api\n     */\n    Text.prototype.clone = function () {\n        var scale = this.getScale();\n        return new Text({\n            font: this.getFont(),\n            placement: this.getPlacement(),\n            maxAngle: this.getMaxAngle(),\n            overflow: this.getOverflow(),\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            text: this.getText(),\n            textAlign: this.getTextAlign(),\n            justify: this.getJustify(),\n            textBaseline: this.getTextBaseline(),\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            offsetX: this.getOffsetX(),\n            offsetY: this.getOffsetY(),\n            backgroundFill: this.getBackgroundFill()\n                ? this.getBackgroundFill().clone()\n                : undefined,\n            backgroundStroke: this.getBackgroundStroke()\n                ? this.getBackgroundStroke().clone()\n                : undefined,\n            padding: this.getPadding() || undefined,\n        });\n    };\n    /**\n     * Get the `overflow` configuration.\n     * @return {boolean} Let text overflow the length of the path they follow.\n     * @api\n     */\n    Text.prototype.getOverflow = function () {\n        return this.overflow_;\n    };\n    /**\n     * Get the font name.\n     * @return {string|undefined} Font.\n     * @api\n     */\n    Text.prototype.getFont = function () {\n        return this.font_;\n    };\n    /**\n     * Get the maximum angle between adjacent characters.\n     * @return {number} Angle in radians.\n     * @api\n     */\n    Text.prototype.getMaxAngle = function () {\n        return this.maxAngle_;\n    };\n    /**\n     * Get the label placement.\n     * @return {import(\"./TextPlacement.js\").default|string} Text placement.\n     * @api\n     */\n    Text.prototype.getPlacement = function () {\n        return this.placement_;\n    };\n    /**\n     * Get the x-offset for the text.\n     * @return {number} Horizontal text offset.\n     * @api\n     */\n    Text.prototype.getOffsetX = function () {\n        return this.offsetX_;\n    };\n    /**\n     * Get the y-offset for the text.\n     * @return {number} Vertical text offset.\n     * @api\n     */\n    Text.prototype.getOffsetY = function () {\n        return this.offsetY_;\n    };\n    /**\n     * Get the fill style for the text.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Text.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Determine whether the text rotates with the map.\n     * @return {boolean|undefined} Rotate with map.\n     * @api\n     */\n    Text.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Get the text rotation.\n     * @return {number|undefined} Rotation.\n     * @api\n     */\n    Text.prototype.getRotation = function () {\n        return this.rotation_;\n    };\n    /**\n     * Get the text scale.\n     * @return {number|import(\"../size.js\").Size|undefined} Scale.\n     * @api\n     */\n    Text.prototype.getScale = function () {\n        return this.scale_;\n    };\n    /**\n     * Get the symbolizer scale array.\n     * @return {import(\"../size.js\").Size} Scale array.\n     */\n    Text.prototype.getScaleArray = function () {\n        return this.scaleArray_;\n    };\n    /**\n     * Get the stroke style for the text.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Text.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Get the text to be rendered.\n     * @return {string|Array<string>|undefined} Text.\n     * @api\n     */\n    Text.prototype.getText = function () {\n        return this.text_;\n    };\n    /**\n     * Get the text alignment.\n     * @return {string|undefined} Text align.\n     * @api\n     */\n    Text.prototype.getTextAlign = function () {\n        return this.textAlign_;\n    };\n    /**\n     * Get the justification.\n     * @return {string|undefined} Justification.\n     * @api\n     */\n    Text.prototype.getJustify = function () {\n        return this.justify_;\n    };\n    /**\n     * Get the text baseline.\n     * @return {string|undefined} Text baseline.\n     * @api\n     */\n    Text.prototype.getTextBaseline = function () {\n        return this.textBaseline_;\n    };\n    /**\n     * Get the background fill style for the text.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Text.prototype.getBackgroundFill = function () {\n        return this.backgroundFill_;\n    };\n    /**\n     * Get the background stroke style for the text.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Text.prototype.getBackgroundStroke = function () {\n        return this.backgroundStroke_;\n    };\n    /**\n     * Get the padding for the text.\n     * @return {Array<number>|null} Padding.\n     * @api\n     */\n    Text.prototype.getPadding = function () {\n        return this.padding_;\n    };\n    /**\n     * Set the `overflow` property.\n     *\n     * @param {boolean} overflow Let text overflow the path that it follows.\n     * @api\n     */\n    Text.prototype.setOverflow = function (overflow) {\n        this.overflow_ = overflow;\n    };\n    /**\n     * Set the font.\n     *\n     * @param {string|undefined} font Font.\n     * @api\n     */\n    Text.prototype.setFont = function (font) {\n        this.font_ = font;\n    };\n    /**\n     * Set the maximum angle between adjacent characters.\n     *\n     * @param {number} maxAngle Angle in radians.\n     * @api\n     */\n    Text.prototype.setMaxAngle = function (maxAngle) {\n        this.maxAngle_ = maxAngle;\n    };\n    /**\n     * Set the x offset.\n     *\n     * @param {number} offsetX Horizontal text offset.\n     * @api\n     */\n    Text.prototype.setOffsetX = function (offsetX) {\n        this.offsetX_ = offsetX;\n    };\n    /**\n     * Set the y offset.\n     *\n     * @param {number} offsetY Vertical text offset.\n     * @api\n     */\n    Text.prototype.setOffsetY = function (offsetY) {\n        this.offsetY_ = offsetY;\n    };\n    /**\n     * Set the text placement.\n     *\n     * @param {import(\"./TextPlacement.js\").default|string} placement Placement.\n     * @api\n     */\n    Text.prototype.setPlacement = function (placement) {\n        this.placement_ = placement;\n    };\n    /**\n     * Set whether to rotate the text with the view.\n     *\n     * @param {boolean} rotateWithView Rotate with map.\n     * @api\n     */\n    Text.prototype.setRotateWithView = function (rotateWithView) {\n        this.rotateWithView_ = rotateWithView;\n    };\n    /**\n     * Set the fill.\n     *\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Text.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n    };\n    /**\n     * Set the rotation.\n     *\n     * @param {number|undefined} rotation Rotation.\n     * @api\n     */\n    Text.prototype.setRotation = function (rotation) {\n        this.rotation_ = rotation;\n    };\n    /**\n     * Set the scale.\n     *\n     * @param {number|import(\"../size.js\").Size|undefined} scale Scale.\n     * @api\n     */\n    Text.prototype.setScale = function (scale) {\n        this.scale_ = scale;\n        this.scaleArray_ = toSize(scale !== undefined ? scale : 1);\n    };\n    /**\n     * Set the stroke.\n     *\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Text.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n    };\n    /**\n     * Set the text.\n     *\n     * @param {string|Array<string>|undefined} text Text.\n     * @api\n     */\n    Text.prototype.setText = function (text) {\n        this.text_ = text;\n    };\n    /**\n     * Set the text alignment.\n     *\n     * @param {string|undefined} textAlign Text align.\n     * @api\n     */\n    Text.prototype.setTextAlign = function (textAlign) {\n        this.textAlign_ = textAlign;\n    };\n    /**\n     * Set the justification.\n     *\n     * @param {string|undefined} justify Justification.\n     * @api\n     */\n    Text.prototype.setJustify = function (justify) {\n        this.justify_ = justify;\n    };\n    /**\n     * Set the text baseline.\n     *\n     * @param {string|undefined} textBaseline Text baseline.\n     * @api\n     */\n    Text.prototype.setTextBaseline = function (textBaseline) {\n        this.textBaseline_ = textBaseline;\n    };\n    /**\n     * Set the background fill.\n     *\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Text.prototype.setBackgroundFill = function (fill) {\n        this.backgroundFill_ = fill;\n    };\n    /**\n     * Set the background stroke.\n     *\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Text.prototype.setBackgroundStroke = function (stroke) {\n        this.backgroundStroke_ = stroke;\n    };\n    /**\n     * Set the padding (`[top, right, bottom, left]`).\n     *\n     * @param {Array<number>|null} padding Padding.\n     * @api\n     */\n    Text.prototype.setPadding = function (padding) {\n        this.padding_ = padding;\n    };\n    return Text;\n}());\nexport default Text;\n//# sourceMappingURL=Text.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/FullScreen\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport MapProperty from '../MapProperty.js';\nimport { CLASS_CONTROL, CLASS_UNSELECTABLE, CLASS_UNSUPPORTED } from '../css.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { replaceNode } from '../dom.js';\nvar events = [\n    'fullscreenchange',\n    'webkitfullscreenchange',\n    'MSFullscreenChange',\n];\n/**\n * @enum {string}\n */\nvar FullScreenEventType = {\n    /**\n     * Triggered after the map entered fullscreen.\n     * @event FullScreenEventType#enterfullscreen\n     * @api\n     */\n    ENTERFULLSCREEN: 'enterfullscreen',\n    /**\n     * Triggered after the map leave fullscreen.\n     * @event FullScreenEventType#leavefullscreen\n     * @api\n     */\n    LEAVEFULLSCREEN: 'leavefullscreen',\n};\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes|\n *     'enterfullscreen'|'leavefullscreen', import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|\n *     'enterfullscreen'|'leavefullscreen'|import(\"../ObjectEventType\").Types, Return>} FullScreenOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-full-screen'] CSS class name.\n * @property {string|Text|HTMLElement} [label='\\u2922'] Text label to use for the button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|Text|HTMLElement} [labelActive='\\u00d7'] Text label to use for the\n * button when full-screen is active.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [activeClassName=className + '-true'] CSS class name for the button\n * when full-screen is active.\n * @property {string} [inactiveClassName=className + '-false'] CSS class name for the button\n * when full-screen is inactive.\n * @property {string} [tipLabel='Toggle full-screen'] Text label to use for the button tip.\n * @property {boolean} [keys=false] Full keyboard access.\n * @property {HTMLElement|string} [target] Specify a target if you want the\n * control to be rendered outside of the map's viewport.\n * @property {HTMLElement|string} [source] The element to be displayed\n * fullscreen. When not provided, the element containing the map viewport will\n * be displayed fullscreen.\n */\n/**\n * @classdesc\n * Provides a button that when clicked fills up the full screen with the map.\n * The full screen source element is by default the element containing the map viewport unless\n * overridden by providing the `source` option. In which case, the dom\n * element introduced using this parameter will be displayed in full screen.\n *\n * When in full screen mode, a close button is shown to exit full screen mode.\n * The [Fullscreen API](https://www.w3.org/TR/fullscreen/) is used to\n * toggle the map in full screen mode.\n *\n * @fires FullScreenEventType#enterfullscreen\n * @fires FullScreenEventType#leavefullscreen\n * @api\n */\nvar FullScreen = /** @class */ (function (_super) {\n    __extends(FullScreen, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function FullScreen(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            target: options.target,\n        }) || this;\n        /***\n         * @type {FullScreenOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {FullScreenOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {FullScreenOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.keys_ = options.keys !== undefined ? options.keys : false;\n        /**\n         * @private\n         * @type {HTMLElement|string|undefined}\n         */\n        _this.source_ = options.source;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.isInFullscreen_ = false;\n        /**\n         * @private\n         */\n        _this.boundHandleMapTargetChange_ = _this.handleMapTargetChange_.bind(_this);\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.cssClassName_ =\n            options.className !== undefined ? options.className : 'ol-full-screen';\n        /**\n         * @private\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.documentListeners_ = [];\n        /**\n         * @private\n         * @type {Array<string>}\n         */\n        _this.activeClassName_ =\n            options.activeClassName !== undefined\n                ? options.activeClassName.split(' ')\n                : [_this.cssClassName_ + '-true'];\n        /**\n         * @private\n         * @type {Array<string>}\n         */\n        _this.inactiveClassName_ =\n            options.inactiveClassName !== undefined\n                ? options.inactiveClassName.split(' ')\n                : [_this.cssClassName_ + '-false'];\n        var label = options.label !== undefined ? options.label : '\\u2922';\n        /**\n         * @private\n         * @type {Text|HTMLElement}\n         */\n        _this.labelNode_ =\n            typeof label === 'string' ? document.createTextNode(label) : label;\n        var labelActive = options.labelActive !== undefined ? options.labelActive : '\\u00d7';\n        /**\n         * @private\n         * @type {Text|HTMLElement}\n         */\n        _this.labelActiveNode_ =\n            typeof labelActive === 'string'\n                ? document.createTextNode(labelActive)\n                : labelActive;\n        var tipLabel = options.tipLabel ? options.tipLabel : 'Toggle full-screen';\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.button_ = document.createElement('button');\n        _this.button_.title = tipLabel;\n        _this.button_.setAttribute('type', 'button');\n        _this.button_.appendChild(_this.labelNode_);\n        _this.button_.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        _this.setClassName_(_this.button_, _this.isInFullscreen_);\n        _this.element.className = \"\".concat(_this.cssClassName_, \" \").concat(CLASS_UNSELECTABLE, \" \").concat(CLASS_CONTROL);\n        _this.element.appendChild(_this.button_);\n        return _this;\n    }\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    FullScreen.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        this.handleFullScreen_();\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreen_ = function () {\n        var map = this.getMap();\n        if (!map) {\n            return;\n        }\n        var doc = map.getOwnerDocument();\n        if (!isFullScreenSupported(doc)) {\n            return;\n        }\n        if (isFullScreen(doc)) {\n            exitFullScreen(doc);\n        }\n        else {\n            var element = void 0;\n            if (this.source_) {\n                element =\n                    typeof this.source_ === 'string'\n                        ? doc.getElementById(this.source_)\n                        : this.source_;\n            }\n            else {\n                element = map.getTargetElement();\n            }\n            if (this.keys_) {\n                requestFullScreenWithKeys(element);\n            }\n            else {\n                requestFullScreen(element);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreenChange_ = function () {\n        var map = this.getMap();\n        if (!map) {\n            return;\n        }\n        var wasInFullscreen = this.isInFullscreen_;\n        this.isInFullscreen_ = isFullScreen(map.getOwnerDocument());\n        if (wasInFullscreen !== this.isInFullscreen_) {\n            this.setClassName_(this.button_, this.isInFullscreen_);\n            if (this.isInFullscreen_) {\n                replaceNode(this.labelActiveNode_, this.labelNode_);\n                this.dispatchEvent(FullScreenEventType.ENTERFULLSCREEN);\n            }\n            else {\n                replaceNode(this.labelNode_, this.labelActiveNode_);\n                this.dispatchEvent(FullScreenEventType.LEAVEFULLSCREEN);\n            }\n            map.updateSize();\n        }\n    };\n    /**\n     * @param {HTMLElement} element Target element\n     * @param {boolean} fullscreen True if fullscreen class name should be active\n     * @private\n     */\n    FullScreen.prototype.setClassName_ = function (element, fullscreen) {\n        var _a, _b, _c, _d;\n        if (fullscreen) {\n            (_a = element.classList).remove.apply(_a, this.inactiveClassName_);\n            (_b = element.classList).add.apply(_b, this.activeClassName_);\n        }\n        else {\n            (_c = element.classList).remove.apply(_c, this.activeClassName_);\n            (_d = element.classList).add.apply(_d, this.inactiveClassName_);\n        }\n    };\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Pass `null` to just remove the control from the current map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     * @api\n     */\n    FullScreen.prototype.setMap = function (map) {\n        var oldMap = this.getMap();\n        if (oldMap) {\n            oldMap.removeChangeListener(MapProperty.TARGET, this.boundHandleMapTargetChange_);\n        }\n        _super.prototype.setMap.call(this, map);\n        this.handleMapTargetChange_();\n        if (map) {\n            map.addChangeListener(MapProperty.TARGET, this.boundHandleMapTargetChange_);\n        }\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleMapTargetChange_ = function () {\n        var listeners = this.documentListeners_;\n        for (var i = 0, ii = listeners.length; i < ii; ++i) {\n            unlistenByKey(listeners[i]);\n        }\n        listeners.length = 0;\n        var map = this.getMap();\n        if (map) {\n            var doc = map.getOwnerDocument();\n            if (isFullScreenSupported(doc)) {\n                this.element.classList.remove(CLASS_UNSUPPORTED);\n            }\n            else {\n                this.element.classList.add(CLASS_UNSUPPORTED);\n            }\n            for (var i = 0, ii = events.length; i < ii; ++i) {\n                listeners.push(listen(doc, events[i], this.handleFullScreenChange_, this));\n            }\n            this.handleFullScreenChange_();\n        }\n    };\n    return FullScreen;\n}(Control));\n/**\n * @param {Document} doc The root document to check.\n * @return {boolean} Fullscreen is supported by the current platform.\n */\nfunction isFullScreenSupported(doc) {\n    var body = doc.body;\n    return !!(body['webkitRequestFullscreen'] ||\n        (body['msRequestFullscreen'] && doc['msFullscreenEnabled']) ||\n        (body.requestFullscreen && doc.fullscreenEnabled));\n}\n/**\n * @param {Document} doc The root document to check.\n * @return {boolean} Element is currently in fullscreen.\n */\nfunction isFullScreen(doc) {\n    return !!(doc['webkitIsFullScreen'] ||\n        doc['msFullscreenElement'] ||\n        doc.fullscreenElement);\n}\n/**\n * Request to fullscreen an element.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreen(element) {\n    if (element.requestFullscreen) {\n        element.requestFullscreen();\n    }\n    else if (element['msRequestFullscreen']) {\n        element['msRequestFullscreen']();\n    }\n    else if (element['webkitRequestFullscreen']) {\n        element['webkitRequestFullscreen']();\n    }\n}\n/**\n * Request to fullscreen an element with keyboard input.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreenWithKeys(element) {\n    if (element['webkitRequestFullscreen']) {\n        element['webkitRequestFullscreen']();\n    }\n    else {\n        requestFullScreen(element);\n    }\n}\n/**\n * Exit fullscreen.\n * @param {Document} doc The document to exit fullscren from\n */\nfunction exitFullScreen(doc) {\n    if (doc.exitFullscreen) {\n        doc.exitFullscreen();\n    }\n    else if (doc['msExitFullscreen']) {\n        doc['msExitFullscreen']();\n    }\n    else if (doc['webkitExitFullscreen']) {\n        doc['webkitExitFullscreen']();\n    }\n}\nexport default FullScreen;\n//# sourceMappingURL=FullScreen.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Overlay\n */\nimport BaseObject from './Object.js';\nimport MapEventType from './MapEventType.js';\nimport { CLASS_SELECTABLE } from './css.js';\nimport { containsExtent } from './extent.js';\nimport { listen, unlistenByKey } from './events.js';\nimport { outerHeight, outerWidth, removeChildren, removeNode } from './dom.js';\n/**\n * @typedef {'bottom-left' | 'bottom-center' | 'bottom-right' | 'center-left' | 'center-center' | 'center-right' | 'top-left' | 'top-center' | 'top-right'} Positioning\n * The overlay position: `'bottom-left'`, `'bottom-center'`,  `'bottom-right'`,\n * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n * `'top-center'`, or `'top-right'`.\n */\n/**\n * @typedef {Object} Options\n * @property {number|string} [id] Set the overlay id. The overlay id can be used\n * with the {@link module:ol/Map~Map#getOverlayById} method.\n * @property {HTMLElement} [element] The overlay element.\n * @property {Array<number>} [offset=[0, 0]] Offsets in pixels used when positioning\n * the overlay. The first element in the\n * array is the horizontal offset. A positive value shifts the overlay right.\n * The second element in the array is the vertical offset. A positive value\n * shifts the overlay down.\n * @property {import(\"./coordinate.js\").Coordinate} [position] The overlay position\n * in map projection.\n * @property {Positioning} [positioning='top-left'] Defines how\n * the overlay is actually positioned with respect to its `position` property.\n * Possible values are `'bottom-left'`, `'bottom-center'`, `'bottom-right'`,\n * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n * `'top-center'`, and `'top-right'`.\n * @property {boolean} [stopEvent=true] Whether event propagation to the map\n * viewport should be stopped. If `true` the overlay is placed in the same\n * container as that of the controls (CSS class name\n * `ol-overlaycontainer-stopevent`); if `false` it is placed in the container\n * with CSS class name specified by the `className` property.\n * @property {boolean} [insertFirst=true] Whether the overlay is inserted first\n * in the overlay container, or appended. If the overlay is placed in the same\n * container as that of the controls (see the `stopEvent` option) you will\n * probably set `insertFirst` to `true` so the overlay is displayed below the\n * controls.\n * @property {PanIntoViewOptions|boolean} [autoPan=false] Pan the map when calling\n * `setPosition`, so that the overlay is entirely visible in the current viewport?\n * If `true` (deprecated), then `autoPanAnimation` and `autoPanMargin` will be\n * used to determine the panning parameters; if an object is supplied then other\n * parameters are ignored.\n * @property {PanOptions} [autoPanAnimation] The animation options used to pan\n * the overlay into view. This animation is only used when `autoPan` is enabled.\n * A `duration` and `easing` may be provided to customize the animation.\n * Deprecated and ignored if `autoPan` is supplied as an object.\n * @property {number} [autoPanMargin=20] The margin (in pixels) between the\n * overlay and the borders of the map when autopanning. Deprecated and ignored\n * if `autoPan` is supplied as an object.\n * @property {PanIntoViewOptions} [autoPanOptions] The options to use for the\n * autoPan. This is only used when `autoPan` is enabled and has preference over\n * the individual `autoPanMargin` and `autoPanOptions`.\n * @property {string} [className='ol-overlay-container ol-selectable'] CSS class\n * name.\n */\n/**\n * @typedef {Object} PanOptions\n * @property {number} [duration=1000] The duration of the animation in\n * milliseconds.\n * @property {function(number):number} [easing] The easing function to use. Can\n * be one from {@link module:ol/easing} or a custom function.\n * Default is {@link module:ol/easing.inAndOut}.\n */\n/**\n * @typedef {Object} PanIntoViewOptions\n * @property {PanOptions} [animation={}] The animation parameters for the pan\n * @property {number} [margin=20] The margin (in pixels) between the\n * overlay and the borders of the map when panning into view.\n */\n/**\n * @enum {string}\n * @protected\n */\nvar Property = {\n    ELEMENT: 'element',\n    MAP: 'map',\n    OFFSET: 'offset',\n    POSITION: 'position',\n    POSITIONING: 'positioning',\n};\n/**\n * @typedef {import(\"./ObjectEventType\").Types|'change:element'|'change:map'|'change:offset'|'change:position'|\n *   'change:positioning'} OverlayObjectEventTypes\n */\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<OverlayObjectEventTypes, import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|OverlayObjectEventTypes, Return>} OverlayOnSignature\n */\n/**\n * @classdesc\n * An element to be displayed over the map and attached to a single map\n * location.  Like {@link module:ol/control/Control~Control}, Overlays are\n * visible widgets. Unlike Controls, they are not in a fixed position on the\n * screen, but are tied to a geographical coordinate, so panning the map will\n * move an Overlay but not a Control.\n *\n * Example:\n *\n *     import Overlay from 'ol/Overlay';\n *\n *     var popup = new Overlay({\n *       element: document.getElementById('popup')\n *     });\n *     popup.setPosition(coordinate);\n *     map.addOverlay(popup);\n *\n * @api\n */\nvar Overlay = /** @class */ (function (_super) {\n    __extends(Overlay, _super);\n    /**\n     * @param {Options} options Overlay options.\n     */\n    function Overlay(options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {OverlayOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {OverlayOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {OverlayOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @protected\n         * @type {Options}\n         */\n        _this.options = options;\n        /**\n         * @protected\n         * @type {number|string|undefined}\n         */\n        _this.id = options.id;\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        _this.insertFirst =\n            options.insertFirst !== undefined ? options.insertFirst : true;\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        _this.stopEvent = options.stopEvent !== undefined ? options.stopEvent : true;\n        /**\n         * @protected\n         * @type {HTMLElement}\n         */\n        _this.element = document.createElement('div');\n        _this.element.className =\n            options.className !== undefined\n                ? options.className\n                : 'ol-overlay-container ' + CLASS_SELECTABLE;\n        _this.element.style.position = 'absolute';\n        _this.element.style.pointerEvents = 'auto';\n        var autoPan = options.autoPan;\n        if (autoPan && 'object' !== typeof autoPan) {\n            autoPan = {\n                animation: options.autoPanAnimation,\n                margin: options.autoPanMargin,\n            };\n        }\n        /**\n         * @protected\n         * @type {PanIntoViewOptions|false}\n         */\n        _this.autoPan = /** @type {PanIntoViewOptions} */ (autoPan) || false;\n        /**\n         * @protected\n         * @type {{transform_: string,\n         *         visible: boolean}}\n         */\n        _this.rendered = {\n            transform_: '',\n            visible: true,\n        };\n        /**\n         * @protected\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.mapPostrenderListenerKey = null;\n        _this.addChangeListener(Property.ELEMENT, _this.handleElementChanged);\n        _this.addChangeListener(Property.MAP, _this.handleMapChanged);\n        _this.addChangeListener(Property.OFFSET, _this.handleOffsetChanged);\n        _this.addChangeListener(Property.POSITION, _this.handlePositionChanged);\n        _this.addChangeListener(Property.POSITIONING, _this.handlePositioningChanged);\n        if (options.element !== undefined) {\n            _this.setElement(options.element);\n        }\n        _this.setOffset(options.offset !== undefined ? options.offset : [0, 0]);\n        _this.setPositioning(options.positioning || 'top-left');\n        if (options.position !== undefined) {\n            _this.setPosition(options.position);\n        }\n        return _this;\n    }\n    /**\n     * Get the DOM element of this overlay.\n     * @return {HTMLElement|undefined} The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getElement = function () {\n        return /** @type {HTMLElement|undefined} */ (this.get(Property.ELEMENT));\n    };\n    /**\n     * Get the overlay identifier which is set on constructor.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Overlay.prototype.getId = function () {\n        return this.id;\n    };\n    /**\n     * Get the map associated with this overlay.\n     * @return {import(\"./PluggableMap.js\").default|null} The map that the\n     * overlay is part of.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getMap = function () {\n        return /** @type {import(\"./PluggableMap.js\").default|null} */ (this.get(Property.MAP) || null);\n    };\n    /**\n     * Get the offset of this overlay.\n     * @return {Array<number>} The offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getOffset = function () {\n        return /** @type {Array<number>} */ (this.get(Property.OFFSET));\n    };\n    /**\n     * Get the current position of this overlay.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The spatial point that the overlay is\n     *     anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPosition = function () {\n        return /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(Property.POSITION));\n    };\n    /**\n     * Get the current positioning of this overlay.\n     * @return {Positioning} How the overlay is positioned\n     *     relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPositioning = function () {\n        return /** @type {Positioning} */ (this.get(Property.POSITIONING));\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleElementChanged = function () {\n        removeChildren(this.element);\n        var element = this.getElement();\n        if (element) {\n            this.element.appendChild(element);\n        }\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleMapChanged = function () {\n        if (this.mapPostrenderListenerKey) {\n            removeNode(this.element);\n            unlistenByKey(this.mapPostrenderListenerKey);\n            this.mapPostrenderListenerKey = null;\n        }\n        var map = this.getMap();\n        if (map) {\n            this.mapPostrenderListenerKey = listen(map, MapEventType.POSTRENDER, this.render, this);\n            this.updatePixelPosition();\n            var container = this.stopEvent\n                ? map.getOverlayContainerStopEvent()\n                : map.getOverlayContainer();\n            if (this.insertFirst) {\n                container.insertBefore(this.element, container.childNodes[0] || null);\n            }\n            else {\n                container.appendChild(this.element);\n            }\n            this.performAutoPan();\n        }\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.render = function () {\n        this.updatePixelPosition();\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleOffsetChanged = function () {\n        this.updatePixelPosition();\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositionChanged = function () {\n        this.updatePixelPosition();\n        this.performAutoPan();\n    };\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositioningChanged = function () {\n        this.updatePixelPosition();\n    };\n    /**\n     * Set the DOM element to be associated with this overlay.\n     * @param {HTMLElement|undefined} element The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setElement = function (element) {\n        this.set(Property.ELEMENT, element);\n    };\n    /**\n     * Set the map to be associated with this overlay.\n     * @param {import(\"./PluggableMap.js\").default|null} map The map that the\n     * overlay is part of. Pass `null` to just remove the overlay from the current map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setMap = function (map) {\n        this.set(Property.MAP, map);\n    };\n    /**\n     * Set the offset for this overlay.\n     * @param {Array<number>} offset Offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setOffset = function (offset) {\n        this.set(Property.OFFSET, offset);\n    };\n    /**\n     * Set the position for this overlay. If the position is `undefined` the\n     * overlay is hidden.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} position The spatial point that the overlay\n     *     is anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPosition = function (position) {\n        this.set(Property.POSITION, position);\n    };\n    /**\n     * Pan the map so that the overlay is entirely visible in the current viewport\n     * (if necessary) using the configured autoPan parameters\n     * @protected\n     */\n    Overlay.prototype.performAutoPan = function () {\n        if (this.autoPan) {\n            this.panIntoView(this.autoPan);\n        }\n    };\n    /**\n     * Pan the map so that the overlay is entirely visible in the current viewport\n     * (if necessary).\n     * @param {PanIntoViewOptions} [opt_panIntoViewOptions] Options for the pan action\n     * @api\n     */\n    Overlay.prototype.panIntoView = function (opt_panIntoViewOptions) {\n        var map = this.getMap();\n        if (!map || !map.getTargetElement() || !this.get(Property.POSITION)) {\n            return;\n        }\n        var mapRect = this.getRect(map.getTargetElement(), map.getSize());\n        var element = this.getElement();\n        var overlayRect = this.getRect(element, [\n            outerWidth(element),\n            outerHeight(element),\n        ]);\n        var panIntoViewOptions = opt_panIntoViewOptions || {};\n        var myMargin = panIntoViewOptions.margin === undefined ? 20 : panIntoViewOptions.margin;\n        if (!containsExtent(mapRect, overlayRect)) {\n            // the overlay is not completely inside the viewport, so pan the map\n            var offsetLeft = overlayRect[0] - mapRect[0];\n            var offsetRight = mapRect[2] - overlayRect[2];\n            var offsetTop = overlayRect[1] - mapRect[1];\n            var offsetBottom = mapRect[3] - overlayRect[3];\n            var delta = [0, 0];\n            if (offsetLeft < 0) {\n                // move map to the left\n                delta[0] = offsetLeft - myMargin;\n            }\n            else if (offsetRight < 0) {\n                // move map to the right\n                delta[0] = Math.abs(offsetRight) + myMargin;\n            }\n            if (offsetTop < 0) {\n                // move map up\n                delta[1] = offsetTop - myMargin;\n            }\n            else if (offsetBottom < 0) {\n                // move map down\n                delta[1] = Math.abs(offsetBottom) + myMargin;\n            }\n            if (delta[0] !== 0 || delta[1] !== 0) {\n                var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (map.getView().getCenterInternal());\n                var centerPx = map.getPixelFromCoordinateInternal(center);\n                if (!centerPx) {\n                    return;\n                }\n                var newCenterPx = [centerPx[0] + delta[0], centerPx[1] + delta[1]];\n                var panOptions = panIntoViewOptions.animation || {};\n                map.getView().animateInternal({\n                    center: map.getCoordinateFromPixelInternal(newCenterPx),\n                    duration: panOptions.duration,\n                    easing: panOptions.easing,\n                });\n            }\n        }\n    };\n    /**\n     * Get the extent of an element relative to the document\n     * @param {HTMLElement} element The element.\n     * @param {import(\"./size.js\").Size} size The size of the element.\n     * @return {import(\"./extent.js\").Extent} The extent.\n     * @protected\n     */\n    Overlay.prototype.getRect = function (element, size) {\n        var box = element.getBoundingClientRect();\n        var offsetX = box.left + window.pageXOffset;\n        var offsetY = box.top + window.pageYOffset;\n        return [offsetX, offsetY, offsetX + size[0], offsetY + size[1]];\n    };\n    /**\n     * Set the positioning for this overlay.\n     * @param {Positioning} positioning how the overlay is\n     *     positioned relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPositioning = function (positioning) {\n        this.set(Property.POSITIONING, positioning);\n    };\n    /**\n     * Modify the visibility of the element.\n     * @param {boolean} visible Element visibility.\n     * @protected\n     */\n    Overlay.prototype.setVisible = function (visible) {\n        if (this.rendered.visible !== visible) {\n            this.element.style.display = visible ? '' : 'none';\n            this.rendered.visible = visible;\n        }\n    };\n    /**\n     * Update pixel position.\n     * @protected\n     */\n    Overlay.prototype.updatePixelPosition = function () {\n        var map = this.getMap();\n        var position = this.getPosition();\n        if (!map || !map.isRendered() || !position) {\n            this.setVisible(false);\n            return;\n        }\n        var pixel = map.getPixelFromCoordinate(position);\n        var mapSize = map.getSize();\n        this.updateRenderedPosition(pixel, mapSize);\n    };\n    /**\n     * @param {import(\"./pixel.js\").Pixel} pixel The pixel location.\n     * @param {import(\"./size.js\").Size|undefined} mapSize The map size.\n     * @protected\n     */\n    Overlay.prototype.updateRenderedPosition = function (pixel, mapSize) {\n        var style = this.element.style;\n        var offset = this.getOffset();\n        var positioning = this.getPositioning();\n        this.setVisible(true);\n        var x = Math.round(pixel[0] + offset[0]) + 'px';\n        var y = Math.round(pixel[1] + offset[1]) + 'px';\n        var posX = '0%';\n        var posY = '0%';\n        if (positioning == 'bottom-right' ||\n            positioning == 'center-right' ||\n            positioning == 'top-right') {\n            posX = '-100%';\n        }\n        else if (positioning == 'bottom-center' ||\n            positioning == 'center-center' ||\n            positioning == 'top-center') {\n            posX = '-50%';\n        }\n        if (positioning == 'bottom-left' ||\n            positioning == 'bottom-center' ||\n            positioning == 'bottom-right') {\n            posY = '-100%';\n        }\n        else if (positioning == 'center-left' ||\n            positioning == 'center-center' ||\n            positioning == 'center-right') {\n            posY = '-50%';\n        }\n        var transform = \"translate(\".concat(posX, \", \").concat(posY, \") translate(\").concat(x, \", \").concat(y, \")\");\n        if (this.rendered.transform_ != transform) {\n            this.rendered.transform_ = transform;\n            style.transform = transform;\n            // @ts-ignore IE9\n            style.msTransform = transform;\n        }\n    };\n    /**\n     * returns the options this Overlay has been created with\n     * @return {Options} overlay options\n     */\n    Overlay.prototype.getOptions = function () {\n        return this.options;\n    };\n    return Overlay;\n}(BaseObject));\nexport default Overlay;\n//# sourceMappingURL=Overlay.js.map"],"sourceRoot":""}