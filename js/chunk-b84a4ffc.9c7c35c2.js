(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b84a4ffc"],{"04b1":function(t,e,i){"use strict";var o=i("15a3");e.a=(...t)=>{const e=document.querySelector(".el-aside .menu .el-scrollbar__view"),i=new MutationObserver((function(e){for(let i of e)if("childList"===i.type);else if("attributes"===i.type&&"style"===i.attributeName)for(let e=0;e<t.length;e++)t[e].updateSize()}));i.observe(e,{attributes:!0,childList:!0,subtree:!0}),Object(o.onBeforeUnmount)((()=>{i.disconnect()}))}},"207d":function(t,e,i){},"3bef":function(t,e,i){"use strict";var o,n=i("e7b8"),s=i("ab98"),r=i("5c82"),a=i("a836"),h=i("0780"),l=i("298c"),c=i("92a2"),d=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e,i){var o=t.call(this)||this;return i&&!Array.isArray(e[0])?o.setFlatCoordinates(i,e):o.setCoordinates(e,i),o}return d(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(h.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,o){if(o<Object(r.f)(this.getExtent(),t,e))return o;for(var n=this.flatCoordinates,s=this.stride,a=0,h=n.length;a<h;a+=s){var l=Object(c.i)(t,e,n[a],n[a+1]);if(l<o){o=l;for(var d=0;d<s;++d)i[d]=n[a+d];i.length=s}}return o},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new n.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,o=[],s=0,r=t.length;s<r;s+=i){var a=new n.a(t.slice(s,s+i),e);o.push(a)}return o},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,o=0,n=e.length;o<n;o+=i){var s=e[o],a=e[o+1];if(Object(r.i)(t,s,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.a=u},6796:function(t,e,i){"use strict";i("207d")},9346:function(t,e,i){"use strict";var o,n=i("ab98"),s=i("5c82"),r=i("a836"),a=i("7b37"),h=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(e,i,o){var n=t.call(this)||this;if(void 0!==o&&void 0===i)n.setFlatCoordinates(o,e);else{var s=i||0;n.setCenterAndRadius(e,s,o)}return n}return h(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,o){var n=this.flatCoordinates,s=t-n[0],r=e-n[1],a=s*s+r*r;if(a<o){if(0===a)for(var h=0;h<this.stride;++h)i[h]=n[h];else{var l=this.getRadius()/Math.sqrt(a);i[0]=n[0]+l*s,i[1]=n[1]+l*r;for(h=2;h<this.stride;++h)i[h]=n[h]}return i.length=this.stride,a}return o},e.prototype.containsXY=function(t,e){var i=this.flatCoordinates,o=t-i[0],n=e-i[1];return o*o+n*n<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return Object(s.l)(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return"Circle"},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(s.G)(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||(t[1]<=i[1]&&t[3]>=i[1]||Object(s.t)(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+i;for(var n=1;n<e;++n)o[e+n]=t[n];this.setFlatCoordinates(this.layout,o),this.changed()},e.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var o=this.flatCoordinates,n=Object(r.a)(o,0,t,this.stride);o[n++]=o[0]+e;for(var s=1,a=this.stride;s<a;++s)o[n++]=o[s];o.length=n,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(Object(a.a)(i,0,i.length,o,t,e,i)),this.changed()},e.prototype.translate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(Object(a.d)(i,0,i.length,o,t,e,i)),this.changed()},e}(n.a);l.prototype.transform,e.a=l},ac8a:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a}));var o=i("0780"),n=i("92a2");function s(t,e,i,s,r,a,h){var l,c,d=(i-e)/s;if(1===d)l=e;else if(2===d)l=e,c=r;else if(0!==d){for(var u=t[e],f=t[e+1],p=0,_=[0],g=e+s;g<i;g+=s){var y=t[g],C=t[g+1];p+=Math.sqrt((y-u)*(y-u)+(C-f)*(C-f)),_.push(p),u=y,f=C}var v=r*p,b=Object(o.a)(_,v);b<0?(c=(v-_[-b-2])/(_[-b-1]-_[-b-2]),l=e+(-b-2)*s):l=e+b*s}var m=h>1?h:2,O=a||new Array(m);for(g=0;g<m;++g)O[g]=void 0===l?NaN:void 0===c?t[l+g]:Object(n.e)(t[l+g],t[l+s+g],c);return O}function r(t,e,i,o,s,r){if(i==e)return null;var a;if(s<t[e+o-1])return r?((a=t.slice(e,e+o))[o-1]=s,a):null;if(t[i-1]<s)return r?((a=t.slice(i-o,i))[o-1]=s,a):null;if(s==t[e+o-1])return t.slice(e,e+o);for(var h=e/o,l=i/o;h<l;){var c=h+l>>1;s<t[(c+1)*o-1]?l=c:h=c+1}var d=t[h*o-1];if(s==d)return t.slice((h-1)*o,(h-1)*o+o);var u=(s-d)/(t[(h+1)*o-1]-d);a=[];for(var f=0;f<o-1;++f)a.push(Object(n.e)(t[(h-1)*o+f],t[h*o+f],u));return a.push(s),a}function a(t,e,i,o,n,s,a){if(a)return r(t,e,i[i.length-1],o,n,s);var h;if(n<t[o-1])return s?((h=t.slice(0,o))[o-1]=n,h):null;if(t[t.length-1]<n)return s?((h=t.slice(t.length-o))[o-1]=n,h):null;for(var l=0,c=i.length;l<c;++l){var d=i[l];if(e!=d){if(n<t[e+o-1])return null;if(n<=t[d-1])return r(t,e,d,o,n,!1);e=d}}return null}},cfc2:function(t,e,i){"use strict";i.r(e);var o=i("15a3"),n=(i("16fa"),i("d0a2")),s=i("80bc"),r=i("8e03"),a=i("76f7"),h=i("ce84"),l=i("6bae"),c=i("701f"),d=i("495d"),u=i("b9ca"),f=i("a29c"),p=i("eebc"),_=i("1c1c"),g=i("5a50"),y=i("04b1");const C={id:"menu"},v=(t=>(Object(o.pushScopeId)("data-v-6a68b341"),t=t(),Object(o.popScopeId)(),t))((()=>Object(o.createElementVNode)("div",{id:"map"},null,-1)));var b={__name:"index",setup(t){let e=null,i=null;const b=Object(o.reactive)({value:"Point",options:[{label:"无",value:"None"},{label:"点",value:"Point"},{label:"线",value:"LineString"},{label:"多边形",value:"Polygon"},{label:"圆",value:"Circle"},{label:"正方形",value:"Square"},{label:"长方形",value:"Box"}]});let m=new h.a({wrapX:!1});const O=new r.a({source:m,style:new c.c({fill:new d.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new u.a({color:"#ff0000",width:2}),image:new f.a({radius:7,fill:new d.a({color:"#ff0000"})})})}),w=new a.a({source:new l.a({attributions:g.a,url:g.e,maxZoom:20})}),j=()=>{let t=b.value;if("None"!==t){let o,n;null==m&&(m=new h.a({wrapX:!1}),O.setSource(m)),"Square"===t?(t="Circle",o=Object(p.a)(4)):"Box"===t&&(t="LineString",n=2,o=(t,e)=>{var i=t[0],o=t[1];return e||(e=new _.a([[i,[i[0],o[1]],o,[o[0],i[1]],i]])),e.setCoordinates([[i,[i[0],o[1]],o,[o[0],i[1]],i]]),e}),i=new p.b({source:m,type:t,geometryFunction:o,maxPoints:n}),e.addInteraction(i)}else m=null,O.setSource(m)},k=()=>{e.removeInteraction(i),j()};return Object(o.onMounted)((()=>{e=new n.a({target:"map",layers:[w],view:new s.a({projection:"EPSG:4326",center:[0,0],zoom:5})}),e.addLayer(O),j(),Object(y.a)(e)})),(t,e)=>{const i=Object(o.resolveComponent)("el-option"),n=Object(o.resolveComponent)("el-select");return Object(o.openBlock)(),Object(o.createElementBlock)(o.Fragment,null,[Object(o.createElementVNode)("div",C,[Object(o.createTextVNode)(" 几何图形类型： "),Object(o.createVNode)(n,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=t=>b.value=t),size:"large",onChange:k},{default:Object(o.withCtx)((()=>[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(b.options,(t=>(Object(o.openBlock)(),Object(o.createBlock)(i,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),v],64)}}},m=(i("6796"),i("1b82"));const O=i.n(m)()(b,[["__scopeId","data-v-6a68b341"]]);e.default=O},d1a1:function(t,e,i){"use strict";var o=i("39a6"),n=i("3bef"),s=i("1c1c"),r=i("ab98"),a=i("6c55"),h=i("5c82"),l=i("a836"),c=i("0780"),d=i("d0af"),u=i("298c"),f=i("21b2"),p=i("2df5"),_=i("ac26");var g,y=i("6ea9"),C=i("04db"),v=(g=function(t,e){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},g(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),b=function(t){function e(e,i,o){var n=t.call(this)||this;if(n.endss_=[],n.flatInteriorPointsRevision_=-1,n.flatInteriorPoints_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,!o&&!Array.isArray(e[0])){for(var s=n.getLayout(),r=e,a=[],h=[],l=0,d=r.length;l<d;++l){var u=r[l];0===l&&(s=u.getLayout());for(var f=a.length,p=u.getEnds(),_=0,g=p.length;_<g;++_)p[_]+=f;Object(c.c)(a,u.getFlatCoordinates()),h.push(p)}i=s,e=a,o=h}return void 0!==i&&o?(n.setFlatCoordinates(i,e),n.endss_=o):n.setCoordinates(e,i),n}return v(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;Object(c.c)(this.flatCoordinates,t.getFlatCoordinates());for(var o=0,n=(e=t.getEnds().slice()).length;o<n;++o)e[o]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),o=0;o<t;++o)i[o]=this.endss_[o].slice();var n=new e(this.flatCoordinates.slice(),this.layout,i);return n.applyProperties(this),n},e.prototype.closestPointXY=function(t,e,i,o){return o<Object(h.f)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,o))},e.prototype.containsXY=function(t,e){return Object(y.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(_.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(p.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(u.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,i,o){for(var n=[],s=Object(h.k)(),r=0,a=i.length;r<a;++r){var l=i[r];s=Object(h.o)(t,e,l[0],o),n.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return n}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(d.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new n.a(this.getFlatInteriorPoints().slice(),o.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(p.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(p.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=Object(C.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,n),new e(i,o.a.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var o=this.endss_[t].slice(),n=o[o.length-1];if(0!==e)for(var r=0,a=o.length;r<a;++r)o[r]-=e;return new s.a(this.flatCoordinates.slice(e,n),this.layout,o)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,o=[],n=0,r=0,a=i.length;r<a;++r){var h=i[r].slice(),l=h[h.length-1];if(0!==n)for(var c=0,d=h.length;c<d;++c)h[c]-=n;var u=new s.a(e.slice(n,l),t,h);o.push(u),n=l}return o},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return Object(f.e)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(l.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=0===o.length?0:o[o.length-1]}this.changed()},e}(r.a);e.a=b},dd77:function(t,e,i){"use strict";var o,n=i("39a6"),s=i("f5c2"),r=i("ab98"),a=i("6c55"),h=i("5c82"),l=i("a836"),c=i("04db"),d=i("0780"),u=i("298c"),f=i("ac8a"),p=i("21b2"),_=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),g=function(t){function e(e,i,o){var n=t.call(this)||this;if(n.ends_=[],n.maxDelta_=-1,n.maxDeltaRevision_=-1,Array.isArray(e[0]))n.setCoordinates(e,i);else if(void 0!==i&&o)n.setFlatCoordinates(i,e),n.ends_=o;else{for(var s=n.getLayout(),r=e,a=[],h=[],l=0,c=r.length;l<c;++l){var u=r[l];0===l&&(s=u.getLayout()),Object(d.c)(a,u.getFlatCoordinates()),h.push(a.length)}n.setFlatCoordinates(s,a),n.ends_=h}return n}return _(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(d.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,o){return o<Object(h.f)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,o))},e.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=n.a.XYM&&this.layout!=n.a.XYZM||0===this.flatCoordinates.length)return null;var o=void 0!==e&&e,s=void 0!==i&&i;return Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,t,o,s)},e.prototype.getCoordinates=function(){return Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,o=[],n=0,r=0,a=e.length;r<a;++r){var h=e[r],l=new s.a(t.slice(n,h),i);o.push(l),n=h}return o},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,o=this.ends_,n=this.stride,s=0,r=o.length;s<r;++s){var a=o[s],h=Object(f.a)(e,i,a,n,.5);Object(d.c)(t,h),i=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],o=[];return i.length=Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,o),new e(i,n.a.XY,o)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(l.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(r.a);e.a=g},eebc:function(t,e,i){"use strict";i.d(e,"a",(function(){return I}));var o,n=i("9346"),s=i("adb7"),r=i("06f9"),a=i("a147"),h=i("39a6"),l=i("fabe"),c=i("f5c2"),d=i("76fc"),u=i("251c"),f=i("dd77"),p=i("3bef"),_=i("d1a1"),g=i("e7b8"),y=i("0fef"),C=i("1c1c"),v=i("8e03"),b=i("ce84"),m=i("abc6"),O=i("0d54"),w=(i("5c82"),i("701f")),j=i("7c6d"),k=i("ab98"),P=i("b2ce"),F=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),x="Point",D="LineString",L="Polygon",T="Circle",M="drawstart",S="drawend",E="drawabort",R=function(t){function e(e,i){var o=t.call(this,e)||this;return o.feature=i,o}return F(e,t),e}(s.a),A=function(t){function e(e){var i=this,o=e;o.stopDown||(o.stopDown=m.a),(i=t.call(this,o)||this).on,i.once,i.un,i.shouldHandle_=!1,i.downPx_=null,i.downTimeout_,i.lastDragTime_,i.pointerType_,i.freehand_=!1,i.source_=e.source?e.source:null,i.features_=e.features?e.features:null,i.snapTolerance_=e.snapTolerance?e.snapTolerance:12,i.type_=e.type,i.mode_=function(t){switch(t){case"Point":case"MultiPoint":return x;case"LineString":case"MultiLineString":return D;case"Polygon":case"MultiPolygon":return L;case"Circle":return T;default:throw new Error("Invalid type: "+t)}}(i.type_),i.stopClick_=!!e.stopClick,i.minPoints_=e.minPoints?e.minPoints:i.mode_===L?3:2,i.maxPoints_=i.mode_===T?2:e.maxPoints?e.maxPoints:1/0,i.finishCondition_=e.finishCondition?e.finishCondition:m.b,i.geometryLayout_=e.geometryLayout?e.geometryLayout:h.a.XY;var s,r=e.geometryFunction;if(!r){var a,d=i.mode_;if(d===T)r=function(t,e,i){var o=e||new n.a([NaN,NaN]),s=Object(j.k)(t[0],i),r=Object(P.j)(s,Object(j.k)(t[t.length-1],i));o.setCenterAndRadius(s,Math.sqrt(r),this.geometryLayout_);var a=Object(j.r)();return a&&o.transform(i,a),o};else d===x?a=g.a:d===D?a=c.a:d===L&&(a=C.a),r=function(t,e,i){return e?d===L?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])],this.geometryLayout_):e.setCoordinates([],this.geometryLayout_):e.setCoordinates(t,this.geometryLayout_):e=new a(t,this.geometryLayout_),e}}return i.geometryFunction_=r,i.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,i.finishCoordinate_=null,i.sketchFeature_=null,i.sketchPoint_=null,i.sketchCoords_=null,i.sketchLine_=null,i.sketchLineCoords_=null,i.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,i.overlay_=new v.a({source:new b.a({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(s=Object(w.b)(),function(t,e){return s[t.getGeometry().getType()]}),updateWhileInteracting:!0}),i.geometryName_=e.geometryName,i.condition_=e.condition?e.condition:O.i,i.freehandCondition_,e.freehand?i.freehandCondition_=O.d:i.freehandCondition_=e.freehandCondition?e.freehandCondition:O.k,i.addChangeListener(l.a.ACTIVE,i.updateState_),i}return F(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===r.a.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==x&&this.freehandCondition_(e);var i=e.type===u.a.POINTERMOVE,o=!0;!this.freehand_&&this.lastDragTime_&&e.type===u.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,i=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===u.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),o=!1):this.freehand_&&e.type===u.a.POINTERDOWN?o=!1:i&&this.getPointerCount()<2?(o=e.type===u.a.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===u.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===u.a.DBLCLICK&&(o=!1),t.prototype.handleEvent.call(this,e)&&o},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new d.a(u.a.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():this.freehand_||i&&this.mode_!==x||(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,o=e[0]-i[0],n=e[1]-i[1],s=o*o+n*n;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,o=[this.finishCoordinate_],n=this.mode_;if(n===x)e=!0;else if(n===T)e=2===this.sketchCoords_.length;else if(n===D)i=this.sketchCoords_.length>this.minPoints_;else if(n===L){var s=this.sketchCoords_;i=s[0].length>this.minPoints_,o=[s[0][0],s[0][s[0].length-2]]}if(i)for(var r=this.getMap(),a=0,h=o.length;a<h;a++){var l=o[a],c=r.getPixelFromCoordinate(l),d=t[0]-c[0],u=t[1]-c[1],f=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(d*d+u*u)<=f){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new a.a(new g.a(t)),this.updateSketchFeatures_())},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new a.a);var e=t.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new c.a(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))},e.prototype.startDrawing_=function(t){for(var e=this.getMap().getView().getProjection(),i=Object(k.b)(this.geometryLayout_);t.length<i;)t.push(0);this.finishCoordinate_=t,this.mode_===x?this.sketchCoords_=t.slice():this.mode_===L?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new a.a(new c.a(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new a.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new R(M,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){for(var e,i,o=this.getMap(),n=this.sketchFeature_.getGeometry(),s=o.getView().getProjection(),r=Object(k.b)(this.geometryLayout_);t.length<r;)t.push(0);(this.mode_===x?i=this.sketchCoords_:this.mode_===L?(i=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(o.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):i=(e=this.sketchCoords_)[e.length-1],i[0]=t[0],i[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,s),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(t);if("Polygon"===n.getType()&&this.mode_!==L)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,i,o=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),s=this.mode_;s===D||s===T?(this.finishCoordinate_=t.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),this.geometryFunction_(i,o,n)):s===L&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,o,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),o=this.mode_;if(o===D||o===T){if((t=this.sketchCoords_).splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var n=this.finishCoordinate_.slice();t[t.length-1]=n,this.createOrUpdateSketchPoint_(n)}this.geometryFunction_(t,e,i),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(o===L){(t=this.sketchCoords_[0]).splice(-2,1);var s=this.sketchLine_.getGeometry();if(t.length>=2){n=t[t.length-2].slice();t[t.length-1]=n,this.createOrUpdateSketchPoint_(n)}s.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,i)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry(),o=this.getMap().getView().getProjection();this.mode_===D?(e.pop(),this.geometryFunction_(e,i,o)):this.mode_===L&&(e[0].pop(),this.geometryFunction_(e,i,o),e=i.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new p.a([e])):"MultiLineString"===this.type_?t.setGeometry(new f.a([e])):"MultiPolygon"===this.type_&&t.setGeometry(new _.a([e])),this.dispatchEvent(new R(S,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new R(E,t))},e.prototype.appendCoordinates=function(t){var e,i=this.mode_,o=!this.sketchFeature_;if(o&&this.startDrawing_(t[0]),i===D||i===T)e=this.sketchCoords_;else{if(i!==L)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}o&&e.shift(),e.pop();for(var n=0;n<t.length;n++)this.addToDrawing_(t[n]);var s=t[t.length-1];this.addToDrawing_(s),this.modifyDrawing_(s)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new a.a(new g.a(i)),this.updateSketchFeatures_(),this.dispatchEvent(new R(M,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(y.b);function I(t,e){return function(i,o,s){var r=Object(j.k)(i[0],s),a=Object(j.k)(i[i.length-1],s),h=Math.sqrt(Object(P.j)(r,a)),l=o||Object(C.b)(new n.a(r),t),c=e;if(!e&&0!==e){var d=a[0]-r[0],u=a[1]-r[1];c=Math.atan2(u,d)}Object(C.d)(l,r,h,c);var f=Object(j.r)();return f&&l.transform(s,f),l}}e.b=A},f5c2:function(t,e,i){"use strict";var o,n=i("39a6"),s=i("ab98"),r=i("6c55"),a=i("5c82"),h=i("a836"),l=i("04db"),c=i("0780"),d=i("774d"),u=i("298c"),f=i("ac8a"),p=i("21b2"),_=i("4726"),g=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=function(t){function e(e,i){var o=t.call(this)||this;return o.flatMidpoint_=null,o.flatMidpointRevision_=-1,o.maxDelta_=-1,o.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?o.setCoordinates(e,i):o.setFlatCoordinates(i,e),o}return g(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(c.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,i,o){return o<Object(a.f)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(r.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(r.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,o))},e.prototype.forEachSegment=function(t){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=n.a.XYM&&this.layout!=n.a.XYZM)return null;var i=void 0!==e&&e;return Object(f.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,n.a.XY)},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(h.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.a=y}}]);
//# sourceMappingURL=chunk-b84a4ffc.9c7c35c2.js.map