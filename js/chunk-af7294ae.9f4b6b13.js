(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-af7294ae"],{"140e":function(t,e,i){"use strict";var r=i("3498"),n=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var i=this.entries_[t];return Object(r.a)(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},t.prototype.remove=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){Object(r.a)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();e.a=n},"1a55":function(t,e,i){"use strict";i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return f}));var r=i("2f34"),n=i("6a4d"),o=i("0000"),s=i("7c6d"),a=i("5c82"),l=i("9a0e");function c(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,i,n){var o=f(t);return function(t,e,i,n){var o=void 0!==n?n:"top-left",s=p(t,e,i);return new r.a({extent:t,origin:Object(a.y)(t,o),resolutions:s,tileSize:i})}(o,e,i,n)}(t),t.setDefaultTileGrid(e)),e}function u(t,e,i){var r=e[0],n=t.getTileCoordCenter(e),o=f(i);if(Object(a.g)(o,n))return e;var s=Object(a.F)(o),l=Math.ceil((o[0]-n[0])/s);return n[0]+=s*l,t.getTileCoordForCoordAndZ(n,r)}function h(t){var e=t||{},i=e.extent||Object(s.n)("EPSG:3857").getExtent(),n={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:p(i,e.maxZoom,e.tileSize,e.maxResolution)};return new r.a(n)}function p(t,e,i,r){for(var n=void 0!==e?e:o.a,s=Object(a.A)(t),c=Object(a.F)(t),u=Object(l.c)(void 0!==i?i:o.b),h=r>0?r:Math.max(c/u[0],s/u[1]),p=n+1,f=new Array(p),g=0;g<p;++g)f[g]=h/Math.pow(2,g);return f}function f(t){var e=(t=Object(s.n)(t)).getExtent();if(!e){var i=180*s.a[n.b.DEGREES]/t.getMetersPerUnit();e=Object(a.l)(-i,-i,i,i)}return e}},"22fe":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return c}));var r=i("3498"),n=i("92a2"),o=i("3b77");function s(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,s=/\{-y\}/g;return function(a,l,c){return a?t.replace(i,a[0].toString()).replace(n,a[1].toString()).replace(o,a[2].toString()).replace(s,(function(){var t=a[0],i=e.getFullTileRange(t);return Object(r.a)(i,55),(i.getHeight()-a[2]-1).toString()})):void 0}}function a(t,e){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=s(t[n],e);return l(r)}function l(t){return 1===t.length?t[0]:function(e,i,r){if(e){var s=Object(o.e)(e),a=Object(n.g)(s,t.length);return t[a](e,i,r)}}}function c(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r=i[1].charCodeAt(0),n=i[2].charCodeAt(0),o=void 0;for(o=r;o<=n;++o)e.push(t.replace(i[0],String.fromCharCode(o)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}},"2cc0":function(t,e,i){"use strict";var r,n=i("ba2e"),o="preload",s="useInterimTilesOnError",a=i("32a2"),l=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=function(t){function e(e){var i=this,r=e||{},n=Object(a.a)({},r);return delete n.preload,delete n.useInterimTilesOnError,(i=t.call(this,n)||this).on,i.once,i.un,i.setPreload(void 0!==r.preload?r.preload:0),i.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),i}return l(e,t),e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}(n.a);e.a=c},"2f34":function(t,e,i){"use strict";var r=i("584b"),n=i("0000"),o=i("3498"),s=i("92a2"),a=i("5c82"),l=i("3b77"),c=i("21b2"),u=i("0780"),h=i("9a0e"),p=[0,0,0],f=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(o.a)(Object(u.e)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,s=this.resolutions_.length-1;i<s;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(o.a)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=Object(a.D)(l)),Object(o.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(o.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.b,Object(o.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var i=new r.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(l){var n=this.getTileRangeForExtentAndZ(l,e);i.minX=Math.max(n.minX,i.minX),i.maxX=Math.min(n.maxX,i.maxX),i.minY=Math.max(n.minY,i.minY),i.maxY=Math.min(n.maxY,i.maxY)}return i}),this):l&&this.calculateTileRanges_(l)}return t.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),n=r.minX,o=r.maxX;n<=o;++n)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,n,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,i,n){var o,s,a,l=null,c=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,n);c>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Object(r.a)(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,c,i),e(c,o))return!0;--c}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],o=2*t[2];return Object(r.a)(n,n+1,o,o+1,e)}var s=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;var n=t[0],o=t[1],s=t[2];if(e===n)return Object(r.a)(o,s,o,s,i);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-n),l=Math.floor(o*a),c=Math.floor(s*a);if(e<n)return Object(r.a)(l,l,c,c,i);var u=Math.floor(a*(o+1))-1,h=Math.floor(a*(s+1))-1;return Object(r.a)(l,u,c,h,i)}var p=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(p,e,i)},t.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),n=this.getResolution(t),o=Object(h.c)(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*o[0]*n,l=r[0]+(e.maxX+1)*o[0]*n,c=r[1]+e.minY*o[1]*n,u=r[1]+(e.maxY+1)*o[1]*n;return Object(a.l)(s,c,l,u,i)},t.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=p;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var o=n[1],s=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),Object(r.a)(o,n[1],s,n[2],i)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(h.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]-(t[2]+.5)*r[1]*i]},t.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),n=Object(h.c)(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*n[0]*r,s=i[1]-(t[2]+1)*n[1]*r,l=o+n[0]*r,c=s+n[1]*r;return Object(a.l)(o,s,l,c,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,n){var o=this.getZForResolution(i),a=i/this.getResolution(o),c=this.getOrigin(o),u=Object(h.c)(this.getTileSize(o),this.tmpSize_),p=a*(t-c[0])/i/u[0],f=a*(c[1]-e)/i/u[1];return r?(p=Object(s.a)(p,5)-1,f=Object(s.a)(f,5)-1):(p=Object(s.d)(p,5),f=Object(s.d)(f,5)),Object(l.a)(o,p,f,n)},t.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,n){var o=this.getOrigin(i),a=this.getResolution(i),c=Object(h.c)(this.getTileSize(i),this.tmpSize_),u=(t-o[0])/a/c[0],p=(o[1]-e)/a/c[1];return r?(u=Object(s.a)(u,5)-1,p=Object(s.a)(p,5)-1):(u=Object(s.d)(u,5),p=Object(s.d)(p,5)),Object(l.a)(i,u,p,n)},t.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var i=Object(u.f)(this.resolutions_,t,e||0);return Object(s.b)(i,this.minZoom,this.maxZoom)},t.prototype.tileCoordIntersectsViewport=function(t,e){return Object(c.c)(e,0,e.length,2,this.getTileCoordExtent(t))},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i},t}();e.a=f},"3b77":function(t,e,i){"use strict";function r(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function n(t,e,i){return t+"/"+e+"/"+i}function o(t){return n(t[0],t[1],t[2])}function s(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function l(t,e){var i=t[0],r=t[1],n=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var o=e.getFullTileRange(i);return!o||o.containsXY(r,n)}i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return l}))},"42c0":function(t,e,i){"use strict";var r,n=i("06f9"),o=i("6e85"),s=i("94c7"),a=i("140e"),l=i("3b77"),c=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(l.b)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(l.c)(t.tileCoord)),t.release())}.bind(this))}},e}(a.a),h=u,p=i("0f99"),f="tileloadstart",g="tileloadend",d="tileloaderror",_=i("adb7"),y=i("60b5"),m=i("f555"),v=i("3498"),T=i("7c6d"),b=i("1a55"),O=i("9a0e"),j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),x=function(t){function e(e){var i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;i.on,i.once,i.un,i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return i.tileGrid&&Object(O.c)(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),[256,256]),i.tileCache=new h(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition,interpolate:e.interpolate},i.zDirection=e.zDirection?e.zDirection:0,i}return j(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var o,s,a,c=!0,u=i.minX;u<=i.maxX;++u)for(var h=i.minY;h<=i.maxY;++h)s=Object(l.d)(e,u,h),a=!1,n.containsKey(s)&&(a=(o=n.get(s)).getState()===p.a.LOADED)&&(a=!1!==r(o)),a||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,e,i,r,n){return Object(m.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(b.c)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return Object(v.a)(null===e||Object(T.i)(e,t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),n=this.getTilePixelRatio(e),o=Object(O.c)(r.getTileSize(t),this.tmpSize);return 1==n?o:Object(O.b)(o,n,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=Object(b.d)(r,t,i)),Object(l.f)(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,e,i,r){},e}(y.a),C=function(t){function e(e,i){var r=t.call(this,e)||this;return r.tile=i,r}return j(e,t),e}(_.a),w=x,E=i("22fe"),F=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),R=function(t){function e(i){var r=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,opaque:i.opaque,projection:i.projection,state:i.state,tileGrid:i.tileGrid,tilePixelRatio:i.tilePixelRatio,wrapX:i.wrapX,transition:i.transition,interpolate:i.interpolate,key:i.key,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=i.tileLoadFunction,i.tileUrlFunction&&(r.tileUrlFunction=i.tileUrlFunction),r.urls=null,i.urls?r.setUrls(i.urls):i.url&&r.setUrl(i.url),r.tileLoadingKeys_={},r}return F(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,r=Object(m.c)(i),n=i.getState();n==p.a.LOADING?(this.tileLoadingKeys_[r]=!0,e=f):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=n==p.a.ERROR?d:n==p.a.LOADED?g:void 0),null!=e&&this.dispatchEvent(new C(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=Object(E.c)(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(E.a)(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,i){},e.prototype.useTile=function(t,e,i){var r=Object(l.d)(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(w),S=i("cde7"),P=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),z=function(t){function e(e){var i=this,r=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(r=e.interpolate),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:A,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:r,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:o.a,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return P(e,t),e.prototype.canExpireCache=function(){if(!S.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(S.a){var r=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[n];o.expireCache(o==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return S.a&&this.getProjection()&&t&&!Object(T.i)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},e.prototype.getOpaque=function(e){return!(S.a&&this.getProjection()&&e&&!Object(T.i)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!S.a)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!Object(T.i)(i,e)){var r=Object(m.c)(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Object(b.c)(e)),this.tileGridForProjection[r]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!S.a)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||Object(T.i)(i,e))return this.tileCache;var r=Object(m.c)(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new h(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,e,i,r,o,s){var a=[t,e,i],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,r,o):void 0,u=new this.tileClass(a,void 0!==c?p.a.IDLE:p.a.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(n.a.CHANGE,this.handleTileChange.bind(this)),u},e.prototype.getTile=function(t,e,i,r,n){var o=this.getProjection();if(S.a&&o&&n&&!Object(T.i)(o,n)){var a=this.getTileCacheForProjection(n),c=[t,e,i],u=void 0,h=Object(l.c)(c);a.containsKey(h)&&(u=a.get(h));var p=this.getKey();if(u&&u.key==p)return u;var f=this.getTileGridForProjection(o),g=this.getTileGridForProjection(n),d=this.getTileCoordForTileUrlFunction(c,n),_=new s.a(o,f,n,g,c,d,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return _.key=p,u?(_.interimTile=u,_.refreshInterimChain(),a.replace(h,_)):a.set(h,_),_}return this.getTileInternal(t,e,i,r,o||n)},e.prototype.getTileInternal=function(t,e,i,r,n){var o=null,s=Object(l.d)(t,e,i),a=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=a){var c=o;o=this.createTile_(t,e,i,r,n,a),c.getState()==p.a.IDLE?o.interimTile=c.interimTile:o.interimTile=c,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,i,r,n,a),this.tileCache.set(s,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(S.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(S.a){var i=Object(T.n)(t);if(i){var r=Object(m.c)(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},e}(R);function A(t,e){t.getImage().src=e}e.a=z},"584b":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=function(){function t(t,e,i,r){this.minX=t,this.maxX=e,this.minY=i,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function n(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):new r(t,e,i,n)}e.b=r},"6e85":function(t,e,i){"use strict";var r,n=i("84f2"),o=i("0f99"),s=i("3d7a"),a=i("18ea"),l=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i,s)||this;return a.crossOrigin_=n,a.src_=r,a.key=r,a.image_=new Image,null!==n&&(a.image_.crossOrigin=n),a.unlisten_=null,a.tileLoadFunction_=o,a}return l(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=o.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=o.a.ERROR,this.unlistenImage_(),this.image_=((t=Object(s.a)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(a.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(n.a);e.a=c},"76f7":function(t,e,i){"use strict";var r,n=i("2cc0"),o=i("e037"),s=i("6e85"),a=i("94c7"),l=i("584b"),c=i("0f99"),u=i("510f"),h=i("bdff"),p=i("32a2"),f=i("5c82"),g=i("7c6d"),d=i("f555"),_=i("0780"),y=i("9a0e"),m=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),v=function(t){function e(e){var i=t.call(this,e)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=Object(f.k)(),i.tmpTileRange_=new l.b(0,0,0,0),i}return m(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),r=e.getUseInterimTilesOnError();return i==c.a.LOADED||i==c.a.EMPTY||i==c.a.ERROR&&!r},e.prototype.getTile=function(t,e,i,r){var n=r.pixelRatio,o=r.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,i,n,o);return a.getState()==c.a.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(c.a.LOADED)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var i=this.getLayer(),r=Object(h.a)(e.pixelToCoordinateTransform,t.slice()),n=i.getExtent();if(n&&!Object(f.g)(n,r))return null;for(var o=e.pixelRatio,l=e.viewState.projection,u=e.viewState,p=i.getRenderSource(),g=p.getTileGridForProjection(u.projection),d=p.getTilePixelRatio(e.pixelRatio),_=g.getZForResolution(u.resolution);_>=g.getMinZoom();--_){var m=g.getTileCoordForCoordAndZ(r,_),v=p.getTile(_,m[1],m[2],o,l);if(!(v instanceof s.a||v instanceof a.a))return null;if(v.getState()===c.a.LOADED){var T=g.getOrigin(_),b=Object(y.c)(g.getTileSize(_)),O=g.getResolution(_),j=Math.floor(d*((r[0]-T[0])/O-m[1]*b[0])),x=Math.floor(d*((T[1]-r[1])/O-m[2]*b[1])),C=Math.round(d*p.getGutterForProjection(u.projection));return this.getImageData(v.getImage(),j+C,x+C)}}return null},e.prototype.loadedTileCallback=function(e,i,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,i,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var i=t.layerStatesArray[t.layerIndex],r=t.viewState,n=r.projection,o=r.resolution,s=r.center,a=r.rotation,l=t.pixelRatio,y=this.getLayer(),m=y.getSource(),v=m.getRevision(),T=m.getTileGridForProjection(n),b=T.getZForResolution(o,m.zDirection),O=T.getResolution(b),j=t.extent,x=t.viewState.resolution,C=m.getTilePixelRatio(l),w=Math.round(Object(f.F)(j)/x*l),E=Math.round(Object(f.A)(j)/x*l),F=i.extent&&Object(g.l)(i.extent,n);F&&(j=Object(f.B)(j,Object(g.l)(i.extent,n)));var R=O*w/2/C,S=O*E/2/C,P=[s[0]-R,s[1]-S,s[0]+R,s[1]+S],z=T.getTileRangeForExtentAndZ(j,b),A={};A[b]={};var G=this.createLoadedTileFinder(m,n,A),I=this.tmpExtent,Y=this.tmpTileRange_;this.newTiles_=!1;for(var X=a?Object(f.C)(r.center,x,a,t.size):void 0,D=z.minX;D<=z.maxX;++D)for(var L=z.minY;L<=z.maxY;++L)if(!a||T.tileCoordIntersectsViewport([b,D,L],X)){var Z=this.getTile(b,D,L,t);if(this.isDrawableTile(Z)){var M=Object(d.c)(this);if(Z.getState()==c.a.LOADED)A[b][Z.tileCoord.toString()]=Z,(ut=Z.inTransition(M))&&1!==i.opacity&&(Z.endTransition(M),ut=!1),this.newTiles_||!ut&&-1!==this.renderedTiles.indexOf(Z)||(this.newTiles_=!0);if(1===Z.getAlpha(M,t.time))continue}var k=T.getTileCoordChildTileRange(Z.tileCoord,Y,I),U=!1;k&&(U=G(b+1,k)),U||T.forEachTileCoordParentTileRange(Z.tileCoord,G,Y,I)}var K=O/o*l/C;Object(h.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/l,1/l,a,-w/2,-E/2);var q=Object(h.k)(this.pixelTransform);this.useContainer(e,q,this.getBackground(t));var N=this.context,W=N.canvas;Object(h.d)(this.inversePixelTransform,this.pixelTransform),Object(h.b)(this.tempTransform,w/2,E/2,K,K,0,-w/2,-E/2),W.width!=w||W.height!=E?(W.width=w,W.height=E):this.containerReused||N.clearRect(0,0,w,E),F&&this.clipUnrotated(N,t,F),m.getInterpolate()||Object(p.a)(N,u.a),this.preRender(N,t),this.renderedTiles.length=0;var H,B,V,J=Object.keys(A).map(Number);J.sort(_.g),1!==i.opacity||this.containerReused&&!m.getOpaque(t.viewState.projection)?(H=[],B=[]):J=J.reverse();for(var Q=J.length-1;Q>=0;--Q){var $=J[Q],tt=m.getTilePixelSize($,l,n),et=T.getResolution($)/O,it=tt[0]*et*K,rt=tt[1]*et*K,nt=T.getTileCoordForCoordAndZ(Object(f.D)(P),$),ot=T.getTileCoordExtent(nt),st=Object(h.a)(this.tempTransform,[C*(ot[0]-P[0])/O,C*(P[3]-ot[3])/O]),at=C*m.getGutterForProjection(n),lt=A[$];for(var ct in lt){var ut,ht=(Z=lt[ct]).tileCoord,pt=nt[1]-ht[1],ft=Math.round(st[0]-(pt-1)*it),gt=nt[2]-ht[2],dt=Math.round(st[1]-(gt-1)*rt),_t=ft-(D=Math.round(st[0]-pt*it)),yt=dt-(L=Math.round(st[1]-gt*rt)),mt=b===$,vt=!1;if(!(ut=mt&&1!==Z.getAlpha(Object(d.c)(this),t.time)))if(H){V=[D,L,D+_t,L,D+_t,L+yt,D,L+yt];for(var Tt=0,bt=H.length;Tt<bt;++Tt)if(b!==$&&$<B[Tt]){var Ot=H[Tt];Object(f.G)([D,L,D+_t,L+yt],[Ot[0],Ot[3],Ot[4],Ot[7]])&&(vt||(N.save(),vt=!0),N.beginPath(),N.moveTo(V[0],V[1]),N.lineTo(V[2],V[3]),N.lineTo(V[4],V[5]),N.lineTo(V[6],V[7]),N.moveTo(Ot[6],Ot[7]),N.lineTo(Ot[4],Ot[5]),N.lineTo(Ot[2],Ot[3]),N.lineTo(Ot[0],Ot[1]),N.clip())}H.push(V),B.push($)}else N.clearRect(D,L,_t,yt);this.drawTileImage(Z,t,D,L,_t,yt,at,mt),H&&!ut?(vt&&N.restore(),this.renderedTiles.unshift(Z)):this.renderedTiles.push(Z),this.updateUsedTiles(t.usedTiles,m,Z)}}return this.renderedRevision=v,this.renderedResolution=O,this.extentChanged=!this.renderedExtent_||!Object(f.p)(this.renderedExtent_,P),this.renderedExtent_=P,this.renderedPixelRatio=l,this.renderedProjection=n,this.manageTilePyramid(t,m,T,l,n,j,b,y.getPreload()),this.scheduleExpireCache(t,m),this.postRender(N,t),i.extent&&N.restore(),Object(p.a)(N,u.b),q!==W.style.transform&&(W.style.transform=q),this.container},e.prototype.drawTileImage=function(t,e,i,r,n,o,s,a){var l=this.getTileImage(t);if(l){var c=Object(d.c)(this),u=e.layerStatesArray[e.layerIndex],h=u.opacity*(a?t.getAlpha(c,e.time):1),p=h!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(l,s,s,l.width-2*s,l.height-2*s,i,r,n,o),p&&this.context.restore(),h!==u.opacity?e.animate=!0:a&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var r=Object(d.c)(t);r in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i){var r=Object(d.c)(e);r in t||(t[r]={}),t[r][i.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,i,r,n,o,s,a,l){var u=Object(d.c)(e);u in t.wantedTiles||(t.wantedTiles[u]={});var h,p,g,_,y,m,v=t.wantedTiles[u],T=t.tileQueue,b=i.getMinZoom(),O=t.viewState.rotation,j=O?Object(f.C)(t.viewState.center,t.viewState.resolution,O,t.size):void 0,x=0;for(m=b;m<=s;++m)for(p=i.getTileRangeForExtentAndZ(o,m,p),g=i.getResolution(m),_=p.minX;_<=p.maxX;++_)for(y=p.minY;y<=p.maxY;++y)O&&!i.tileCoordIntersectsViewport([m,_,y],j)||(s-m<=a?(++x,(h=e.getTile(m,_,y,r,n)).getState()==c.a.IDLE&&(v[h.getKey()]=!0,T.isKeyQueued(h.getKey())||T.enqueue([h,u,i.getTileCoordCenter(h.tileCoord),g])),void 0!==l&&l(h)):e.useTile(m,_,y,n));e.updateCacheSize(x,n)},e}(o.b),T=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),b=function(t){function e(e){return t.call(this,e)||this}return T(e,t),e.prototype.createRenderer=function(){return new v(this)},e}(n.a);e.a=b},"84f2":function(t,e,i){"use strict";var r,n=i("fe1f"),o=i("06f9"),s=i("0f99"),a=i("f555"),l=i("c31c"),c=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e,i,r){var n=t.call(this)||this,o=r||{};return n.tileCoord=e,n.state=i,n.interimTile=null,n.key="",n.transition_=void 0===o.transition?250:o.transition,n.transitionStarts_={},n.interpolate=!!o.interpolate,n}return c(e,t),e.prototype.changed=function(){this.dispatchEvent(o.a.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==s.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==s.a.LOADED){t.interimTile=null;break}t.getState()==s.a.LOADING?e=t:t.getState()==s.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==s.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Object(a.b)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:Object(l.a)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(n.a);e.a=u},"94c7":function(t,e,i){"use strict";var r,n=i("cde7"),o=i("06f9"),s=i("84f2"),a=i("0f99"),l=i("243e"),c=i("e64c"),u=i("92a2"),h=i("5c82"),p=i("81a0"),f=i("3d7a"),g=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=function(t){function e(e,i,r,o,s,p,f,g,d,_,y,m){var v=t.call(this,s,a.a.IDLE,{interpolate:!!m})||this;v.renderEdges_=void 0!==y&&y,v.pixelRatio_=f,v.gutter_=g,v.canvas_=null,v.sourceTileGrid_=i,v.targetTileGrid_=o,v.wrappedTileCoord_=p||s,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var T=o.getTileCoordExtent(v.wrappedTileCoord_),b=v.targetTileGrid_.getExtent(),O=v.sourceTileGrid_.getExtent(),j=b?Object(h.B)(T,b):T;if(0===Object(h.u)(j))return v.state=a.a.EMPTY,v;var x=e.getExtent();x&&(O=O?Object(h.B)(O,x):x);var C=o.getResolution(v.wrappedTileCoord_[0]),w=Object(c.a)(e,r,j,C);if(!isFinite(w)||w<=0)return v.state=a.a.EMPTY,v;var E=void 0!==_?_:n.b;if(v.triangulation_=new l.a(e,r,j,O,w*E,C),0===v.triangulation_.getTriangles().length)return v.state=a.a.EMPTY,v;v.sourceZ_=i.getZForResolution(w);var F=v.triangulation_.calculateSourceExtent();if(O&&(e.canWrapX()?(F[1]=Object(u.b)(F[1],O[1],O[3]),F[3]=Object(u.b)(F[3],O[1],O[3])):F=Object(h.B)(F,O)),Object(h.u)(F)){for(var R=i.getTileRangeForExtentAndZ(F,v.sourceZ_),S=R.minX;S<=R.maxX;S++)for(var P=R.minY;P<=R.maxY;P++){var z=d(v.sourceZ_,S,P,f);z&&v.sourceTiles_.push(z)}0===v.sourceTiles_.length&&(v.state=a.a.EMPTY)}else v.state=a.a.EMPTY;return v}return g(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==a.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=a.a.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],n="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(c.d)(r,n,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=a.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==a.a.IDLE){this.state=a.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var n=e.getState();if(n==a.a.IDLE||n==a.a.LOADING){t++;var s=Object(p.a)(e,o.a.CHANGE,(function(i){var r=e.getState();r!=a.a.LOADED&&r!=a.a.ERROR&&r!=a.a.EMPTY||(Object(p.c)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,i){t.getState()==a.a.IDLE&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(p.c),this.sourcesListenerKeys_=null},e.prototype.release=function(){this.canvas_&&(Object(f.d)(this.canvas_.getContext("2d")),c.c.push(this.canvas_),this.canvas_=null),t.prototype.release.call(this)},e}(s.a);e.a=d}}]);
//# sourceMappingURL=chunk-af7294ae.9f4b6b13.js.map