(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2c02bbb8"],{"04b1":function(t,e,n){"use strict";var o=n("15a3");e.a=(...t)=>{const e=document.querySelector(".el-aside .menu .el-scrollbar__view"),n=new MutationObserver((function(e){for(let n of e)if("childList"===n.type);else if("attributes"===n.type&&"style"===n.attributeName)for(let e=0;e<t.length;e++)t[e].updateSize()}));n.observe(e,{attributes:!0,childList:!0,subtree:!0}),Object(o.onBeforeUnmount)((()=>{n.disconnect()}))}},"7a89":function(t,e,n){"use strict";n.r(e);var o,i=n("15a3"),s=(n("16fa"),n("d0a2")),r=n("80bc"),a=n("76f7"),c=n("fa69"),l=n("f4fc"),u=n("6bae"),f=n("5a50"),h=n("04b1"),p=n("a147"),d=n("e7b8"),g=n("ce84"),_=n("06f9"),y=n("b2ce"),b=n("3498"),v=n("5c82"),m=n("f555"),w=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return n.resolution=void 0,n.distance=void 0!==e.distance?e.distance:20,n.minDistance=e.minDistance||0,n.interpolationRatio=0,n.features=[],n.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return Object(b.a)("Point"==e.getType(),10),e},n.createCustomCluster_=e.createCluster,n.source=null,n.boundRefresh_=n.refresh.bind(n),n.updateDistance(n.distance,n.minDistance),n.setSource(e.source||null),n}return w(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.resolution=e,this.refresh())},e.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},e.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},e.prototype.getMinDistance=function(){return this.minDistance},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(_.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(_.a.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.updateDistance=function(t,e){var n=0===t?0:Math.min(e,t)/t,o=t!==this.distance||this.interpolationRatio!==n;this.distance=t,this.minDistance=e,this.interpolationRatio=n,o&&this.refresh()},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=Object(v.k)(),e=this.distance*this.resolution,n=this.source.getFeatures(),o={},i=0,s=n.length;i<s;i++){var r=n[i];if(!(Object(m.c)(r)in o)){var a=this.geometryFunction(r);if(a){var c=a.getCoordinates();Object(v.n)(c,t),Object(v.d)(t,e,t);var l=this.source.getFeaturesInExtent(t).filter((function(t){var e=Object(m.c)(t);return!(e in o)&&(o[e]=!0,!0)}));this.features.push(this.createCluster(l,t))}}}},e.prototype.createCluster=function(t,e){for(var n=[0,0],o=t.length-1;o>=0;--o){var i=this.geometryFunction(t[o]);i?Object(y.a)(n,i.getCoordinates()):t.splice(o,1)}Object(y.i)(n,1/t.length);var s=Object(v.x)(e),r=this.interpolationRatio,a=new d.a([n[0]*(1-r)+s[0]*r,n[1]*(1-r)+s[1]*r]);return this.createCustomCluster_?this.createCustomCluster_(a,t):new p.a({geometry:a,features:t})},e}(g.a),F=n("8e03"),C=n("701f"),O=n("a29c"),x=n("b9ca"),j=n("495d"),S=n("f04d");const N=new Array(1e4),A=45e5;for(let t=0;t<1e4;++t){const e=[2*A*Math.random()-A,2*A*Math.random()-A];N[t]=new p.a(new d.a(e))}const T=new k({distance:40,source:new g.a({features:N})}),E={},M=new F.a({source:T,style:t=>{const e=t.get("features").length;let n=E[e];return n||(n=[new C.c({image:new O.a({radius:10,stroke:new x.a({color:"#fff"}),fill:new j.a({color:"#3399CC"})}),text:new S.a({text:e.toString(),fill:new j.a({color:"#fff"})})})],E[e]=n),n}}),R=t=>{0!=T.getSource().getFeatures().length&&(T.getSource().clear(),t.removeLayer(M))},B={id:"top"},L=(t=>(Object(i.pushScopeId)("data-v-30ff6604"),t=t(),Object(i.popScopeId)(),t))((()=>Object(i.createElementVNode)("div",{id:"map"},null,-1)));var D={__name:"index",setup(t){let e=null;const n=new a.a({source:new u.a({attributions:f.a,url:f.e,maxZoom:20})}),o=()=>{(t=>{0==T.getSource().getFeatures().length&&(T.getSource().addFeatures(N),M.setSource(T),t.addLayer(M))})(e)},p=()=>{R(e)};return Object(i.onMounted)((()=>{e=new s.a({target:"map",layers:[n,M],view:new r.a({center:[0,0],minZoom:2,zoom:2}),controls:Object(c.a)().extend([new l.a])}),Object(h.a)(e),R(e)})),(t,e)=>{const n=Object(i.resolveComponent)("el-button");return Object(i.openBlock)(),Object(i.createElementBlock)(i.Fragment,null,[Object(i.createElementVNode)("div",B,[Object(i.createVNode)(n,{type:"primary",onClick:o},{default:Object(i.withCtx)((()=>[Object(i.createTextVNode)("添加聚合标注")])),_:1}),Object(i.createVNode)(n,{type:"danger",onClick:p},{default:Object(i.withCtx)((()=>[Object(i.createTextVNode)("移除聚合标注")])),_:1})]),L],64)}}},I=(n("a7d7"),n("1b82"));const V=n.n(I)()(D,[["__scopeId","data-v-30ff6604"]]);e.default=V},a7d7:function(t,e,n){"use strict";n("c20e")},c20e:function(t,e,n){},f04d:function(t,e,n){"use strict";var o=n("495d"),i=n("7da9"),s=n("9a0e"),r=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(s.c)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new o.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:i.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getJustify=function(){return this.justify_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(s.c)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setJustify=function(t){this.justify_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.a=r},f4fc:function(t,e,n){"use strict";var o,i=n("61f0"),s=n("06f9"),r=n("f520"),a=n("bd40"),c=n("81a0"),l=n("3d7a"),u=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],h="enterfullscreen",p="leavefullscreen",d=function(t){function e(e){var n=this,o=e||{};(n=t.call(this,{element:document.createElement("div"),target:o.target})||this).on,n.once,n.un,n.keys_=void 0!==o.keys&&o.keys,n.source_=o.source,n.isInFullscreen_=!1,n.boundHandleMapTargetChange_=n.handleMapTargetChange_.bind(n),n.cssClassName_=void 0!==o.className?o.className:"ol-full-screen",n.documentListeners_=[],n.activeClassName_=void 0!==o.activeClassName?o.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=void 0!==o.inactiveClassName?o.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var i=void 0!==o.label?o.label:"⤢";n.labelNode_="string"==typeof i?document.createTextNode(i):i;var r=void 0!==o.labelActive?o.labelActive:"×";n.labelActiveNode_="string"==typeof r?document.createTextNode(r):r;var c=o.tipLabel?o.tipLabel:"Toggle full-screen";return n.button_=document.createElement("button"),n.button_.title=c,n.button_.setAttribute("type","button"),n.button_.appendChild(n.labelNode_),n.button_.addEventListener(s.a.CLICK,n.handleClick_.bind(n),!1),n.setClassName_(n.button_,n.isInFullscreen_),n.element.className="".concat(n.cssClassName_," ").concat(a.e," ").concat(a.b),n.element.appendChild(n.button_),n}return u(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){var t=this.getMap();if(t){var e=t.getOwnerDocument();if(g(e))if(_(e))!function(t){t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}(e);else{var n=void 0;n=this.source_?"string"==typeof this.source_?e.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():y(t)}(n):y(n)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();if(t){var e=this.isInFullscreen_;this.isInFullscreen_=_(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Object(l.h)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(h)):(Object(l.h)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(p)),t.updateSize())}},e.prototype.setClassName_=function(t,e){var n,o,i,s;e?((n=t.classList).remove.apply(n,this.inactiveClassName_),(o=t.classList).add.apply(o,this.activeClassName_)):((i=t.classList).remove.apply(i,this.activeClassName_),(s=t.classList).add.apply(s,this.inactiveClassName_))},e.prototype.setMap=function(e){var n=this.getMap();n&&n.removeChangeListener(r.a.TARGET,this.boundHandleMapTargetChange_),t.prototype.setMap.call(this,e),this.handleMapTargetChange_(),e&&e.addChangeListener(r.a.TARGET,this.boundHandleMapTargetChange_)},e.prototype.handleMapTargetChange_=function(){for(var t=this.documentListeners_,e=0,n=t.length;e<n;++e)Object(c.c)(t[e]);t.length=0;var o=this.getMap();if(o){var i=o.getOwnerDocument();g(i)?this.element.classList.remove(a.f):this.element.classList.add(a.f);for(e=0,n=f.length;e<n;++e)t.push(Object(c.a)(i,f[e],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},e}(i.a);function g(t){var e=t.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&t.msFullscreenEnabled||e.requestFullscreen&&t.fullscreenEnabled)}function _(t){return!!(t.webkitIsFullScreen||t.msFullscreenElement||t.fullscreenElement)}function y(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.a=d}}]);
//# sourceMappingURL=chunk-2c02bbb8.c0ab351b.js.map