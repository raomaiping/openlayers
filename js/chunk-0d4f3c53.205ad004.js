(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0d4f3c53"],{"5b2e":function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return d}));var n,a=r("3959"),i=r("04ac"),o=r("4ed3"),s=r("db45"),c=r("8a62"),u=r("bdff"),l=r("5c82"),f=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h={GENERATE_BUFFERS:"GENERATE_BUFFERS"},_=function(e){function t(t,r){var n=e.call(this,t)||this,i=r||{};return n.inversePixelTransform_=Object(u.c)(),n.pixelContext_=null,n.postProcesses_=i.postProcesses,n.uniforms_=i.uniforms,n.helper,t.addChangeListener(a.a.MAP,n.removeHelper.bind(n)),n.dispatchPreComposeEvent=n.dispatchPreComposeEvent.bind(n),n.dispatchPostComposeEvent=n.dispatchPostComposeEvent.bind(n),n}return f(t,e),t.prototype.dispatchPreComposeEvent=function(e,t){var r=this.getLayer();if(r.hasListener(s.a.PRECOMPOSE)){var n=new o.a(s.a.PRECOMPOSE,void 0,t,e);r.dispatchEvent(n)}},t.prototype.dispatchPostComposeEvent=function(e,t){var r=this.getLayer();if(r.hasListener(s.a.POSTCOMPOSE)){var n=new o.a(s.a.POSTCOMPOSE,void 0,t,e);r.dispatchEvent(n)}},t.prototype.reset=function(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},t.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)},t.prototype.prepareFrame=function(e){if(this.getLayer().getRenderSource()){for(var r=!0,n=-1,a=void 0,i=0,o=e.layerStatesArray.length;i<o;i++){var s=e.layerStatesArray[i].layer,u=s.getRenderer();if(u instanceof t){var l=s.getClassName();if((r||l!==a)&&(n+=1,r=!1),a=l,u===this)break}else r=!0}var f="map/"+e.mapId+"/group/"+n;this.helper&&this.helper.canvasCacheKeyMatches(f)||(this.removeHelper(),this.helper=new c.c({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:f}),a&&(this.helper.getCanvas().className=a),this.afterHelperCreated())}return this.prepareFrameInternal(e)},t.prototype.afterHelperCreated=function(){},t.prototype.prepareFrameInternal=function(e){return!0},t.prototype.disposeInternal=function(){this.removeHelper(),e.prototype.disposeInternal.call(this)},t.prototype.dispatchRenderEvent_=function(e,t,r){var n=this.getLayer();if(n.hasListener(e)){Object(u.b)(this.inversePixelTransform_,0,0,r.pixelRatio,-r.pixelRatio,0,0,-r.size[1]);var a=new o.a(e,this.inversePixelTransform_,r,t);n.dispatchEvent(a)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(s.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(s.a.POSTRENDER,e,t)},t.prototype.getDataAtPixel=function(e,t,r){var n=Object(u.a)([t.pixelRatio,0,0,t.pixelRatio,0,0],e.slice()),a=this.helper.getGL();if(!a)return null;var i=this.getLayer().getExtent();if(i){var o=Object(u.a)(t.pixelToCoordinateTransform,e.slice());if(!Object(l.g)(i,o))return null}var s=a.getContextAttributes();if(!s||!s.preserveDrawingBuffer)return new Uint8Array;var c,f=Math.round(n[0]),h=Math.round(n[1]),_=this.pixelContext_;if(!_){var p=document.createElement("canvas");p.width=1,p.height=1,_=p.getContext("2d"),this.pixelContext_=_}_.clearRect(0,0,1,1);try{_.drawImage(a.canvas,f,h,1,1,0,0,1,1),c=_.getImageData(0,0,1,1).data}catch(e){return c}return 0===c[3]?null:c},t}(i.a);function p(e,t){var r=t||[],n=256,a=255;return r[0]=Math.floor(e/n/n/n)/a,r[1]=Math.floor(e/n/n)%n/a,r[2]=Math.floor(e/n)%n/a,r[3]=e%n/a,r}function d(e){var t=0,r=256,n=255;return t+=Math.round(e[0]*r*r*r*n),t+=Math.round(e[1]*r*r*n),t+=Math.round(e[2]*r*n),t+=Math.round(e[3]*n)}t.d=_},8897:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"g",(function(){return l})),r.d(t,"i",(function(){return f})),r.d(t,"h",(function(){return h})),r.d(t,"d",(function(){return _})),r.d(t,"j",(function(){return d}));var n=r("6b01"),a=r("32a2"),i=34962,o=34963,s=35040,c=35044,u=35048,l=5121,f=5123,h=5125,_=5126,p=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function d(e,t){for(var r=Object(a.a)({preserveDrawingBuffer:!0,antialias:!n.f},t),i=p.length,o=0;o<i;++o)try{var s=e.getContext(p[o],r);if(s)return s}catch(e){}return null}},"8a62":function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return d}));var n,a="webglcontextlost",i="webglcontextrestored",o=r("723b"),s=r("f555"),c=function(){function e(e){this.gl_=e.webGlContext;var t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(r);var n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,e.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),t.compileShader(n),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,r),t.attachShader(this.renderTargetProgram_,n),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(r){this.uniforms_.push({value:e.uniforms[r],location:t.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(e){var t=this.getGL(),r=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;var n=t.RGBA,a=t.RGBA,i=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,n,r[0],r[1],0,a,i,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(e,t,r,n){var a=this.getGL(),i=e.size;if(a.bindFramebuffer(a.FRAMEBUFFER,t?t.getFrameBuffer():null),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this.renderTargetTexture_),!t){var o=Object(s.c)(a.canvas);if(!e.renderTargets[o]){var c=a.getContextAttributes();c&&c.preserveDrawingBuffer&&(a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT)),e.renderTargets[o]=!0}}a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),a.bindBuffer(a.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),a.useProgram(this.renderTargetProgram_),a.enableVertexAttribArray(this.renderTargetAttribLocation_),a.vertexAttribPointer(this.renderTargetAttribLocation_,2,a.FLOAT,!1,0,0),a.uniform2f(this.renderTargetUniformLocation_,i[0],i[1]),a.uniform1i(this.renderTargetTextureLocation_,0);var u=e.layerStatesArray[e.layerIndex].opacity;a.uniform1f(this.renderTargetOpacityLocation_,u),this.applyUniforms(e),r&&r(a,e),a.drawArrays(a.TRIANGLES,0,6),n&&n(a,e)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=1;this.uniforms_.forEach((function(a){if((t="function"==typeof a.value?a.value(e):a.value)instanceof HTMLCanvasElement||t instanceof ImageData)a.texture||(a.texture=r.createTexture()),r.activeTexture(r["TEXTURE".concat(n)]),r.bindTexture(r.TEXTURE_2D,a.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,t.width,t.height,0,r.UNSIGNED_BYTE,new Uint8Array(t.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(a.location,n++);else if(Array.isArray(t))switch(t.length){case 2:return void r.uniform2f(a.location,t[0],t[1]);case 3:return void r.uniform3f(a.location,t[0],t[1],t[2]);case 4:return void r.uniform4f(a.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(a.location,t)}))},e}(),u=r("8897"),l=r("32a2"),f=r("bdff"),h=r("dfda"),_=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},d={UNSIGNED_BYTE:u.g,UNSIGNED_SHORT:u.i,UNSIGNED_INT:u.h,FLOAT:u.d},m={};function E(e){return"shared/"+e}var g=0;var T=function(e){function t(t){var r,n=e.call(this)||this,o=t||{};n.boundHandleWebGLContextLost_=n.handleWebGLContextLost.bind(n),n.boundHandleWebGLContextRestored_=n.handleWebGLContextRestored.bind(n),n.canvasCacheKey_=o.canvasCacheKey?E(o.canvasCacheKey):(r="unique/"+g,g+=1,r),n.canvas_=function(e){var t=m[e];if(!t){var r=document.createElement("canvas");r.style.position="absolute",r.style.left="0",t={users:0,canvas:r},m[e]=t}return t.users+=1,t.canvas}(n.canvasCacheKey_),n.gl_=Object(u.j)(n.canvas_),n.bufferCache_={},n.extensionCache_={},n.currentProgram_=null,n.canvas_.addEventListener(a,n.boundHandleWebGLContextLost_),n.canvas_.addEventListener(i,n.boundHandleWebGLContextRestored_),n.offsetRotateMatrix_=Object(f.c)(),n.offsetScaleMatrix_=Object(f.c)(),n.tmpMat4_=Object(h.a)(),n.uniformLocations_={},n.attribLocations_={},n.uniforms_=[],o.uniforms&&n.setUniforms(o.uniforms);var s=n.getGL();return n.postProcessPasses_=o.postProcesses?o.postProcesses.map((function(e){return new c({webGlContext:s,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})})):[new c({webGlContext:s})],n.shaderCompileErrors_=null,n.startTime_=Date.now(),n}return _(t,e),t.prototype.setUniforms=function(e){for(var t in this.uniforms_=[],e)this.uniforms_.push({name:t,value:e[t]});this.uniformLocations_={}},t.prototype.canvasCacheKeyMatches=function(e){return this.canvasCacheKey_===E(e)},t.prototype.getExtension=function(e){if(e in this.extensionCache_)return this.extensionCache_[e];var t=this.gl_.getExtension(e);return this.extensionCache_[e]=t,t},t.prototype.bindBuffer=function(e){var t=this.getGL(),r=Object(s.c)(e),n=this.bufferCache_[r];n||(n={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[r]=n);t.bindBuffer(e.getType(),n.webGlBuffer)},t.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},t.prototype.deleteBuffer=function(e){var t=this.getGL(),r=Object(s.c)(e),n=this.bufferCache_[r];n&&!t.isContextLost()&&t.deleteBuffer(n.webGlBuffer),delete this.bufferCache_[r]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(a,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(i,this.boundHandleWebGLContextRestored_),function(e){var t=m[e];if(t&&(t.users-=1,!(t.users>0))){var r=t.canvas,n=Object(u.j)(r).getExtension("WEBGL_lose_context");n&&n.loseContext(),delete m[e]}}(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},t.prototype.prepareDraw=function(e,t){var r=this.getGL(),n=this.getCanvas(),a=e.size,i=e.pixelRatio;n.width=a[0]*i,n.height=a[1]*i,n.style.width=a[0]+"px",n.style.height=a[1]+"px",r.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;o>=0;o--)this.postProcessPasses_[o].init(e);r.bindTexture(r.TEXTURE_2D,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,t?r.ZERO:r.ONE_MINUS_SRC_ALPHA),r.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.prepareDrawToRenderTarget=function(e,t,r){var n=this.getGL(),a=t.getSize();n.bindFramebuffer(n.FRAMEBUFFER,t.getFramebuffer()),n.viewport(0,0,a[0],a[1]),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.drawElements=function(e,t){var r=this.getGL();this.getExtension("OES_element_index_uint");var n=r.UNSIGNED_INT,a=t-e,i=4*e;r.drawElements(r.TRIANGLES,a,n,i)},t.prototype.finalizeDraw=function(e,t,r){for(var n=0,a=this.postProcessPasses_.length;n<a;n++)n===a-1?this.postProcessPasses_[n].apply(e,null,t,r):this.postProcessPasses_[n].apply(e,this.postProcessPasses_[n+1])},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(e){var t=e.size,r=e.viewState.rotation,n=Object(f.g)(this.offsetScaleMatrix_);Object(f.i)(n,2/t[0],2/t[1]);var a=Object(f.g)(this.offsetRotateMatrix_);0!==r&&Object(f.h)(a,-r),this.setUniformMatrixValue(p.OFFSET_SCALE_MATRIX,Object(h.b)(this.tmpMat4_,n)),this.setUniformMatrixValue(p.OFFSET_ROTATION_MATRIX,Object(h.b)(this.tmpMat4_,a)),this.setUniformFloatValue(p.TIME,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(p.ZOOM,e.viewState.zoom),this.setUniformFloatValue(p.RESOLUTION,e.viewState.resolution)},t.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=0;this.uniforms_.forEach(function(a){if((t="function"==typeof a.value?a.value(e):a.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)a.texture||(a.prevValue=void 0,a.texture=r.createTexture()),r.activeTexture(r["TEXTURE".concat(n)]),r.bindTexture(r.TEXTURE_2D,a.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&a.prevValue!==t&&(a.prevValue=t,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)),r.uniform1i(this.getUniformLocation(a.name),n++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(a.name,Object(h.b)(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void r.uniform2f(this.getUniformLocation(a.name),t[0],t[1]);case 3:return void r.uniform3f(this.getUniformLocation(a.name),t[0],t[1],t[2]);case 4:return void r.uniform4f(this.getUniformLocation(a.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(this.getUniformLocation(a.name),t)}.bind(this))},t.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)},t.prototype.compileShader=function(e,t){var r=this.getGL(),n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n},t.prototype.getProgram=function(e,t){var r=this.getGL(),n=this.compileShader(e,r.FRAGMENT_SHADER),a=this.compileShader(t,r.VERTEX_SHADER),i=r.createProgram();if(r.attachShader(i,n),r.attachShader(i,a),r.linkProgram(i),!r.getShaderParameter(n,r.COMPILE_STATUS)){var o="Fragment shader compliation failed: ".concat(r.getShaderInfoLog(n));throw new Error(o)}if(r.deleteShader(n),!r.getShaderParameter(a,r.COMPILE_STATUS)){o="Vertex shader compilation failed: ".concat(r.getShaderInfoLog(a));throw new Error(o)}if(r.deleteShader(a),!r.getProgramParameter(i,r.LINK_STATUS)){o="GL program linking failed: ".concat(r.getShaderInfoLog(a));throw new Error(o)}return i},t.prototype.getUniformLocation=function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},t.prototype.getAttributeLocation=function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},t.prototype.makeProjectionTransform=function(e,t){var r=e.size,n=e.viewState.rotation,a=e.viewState.resolution,i=e.viewState.center;return Object(f.g)(t),Object(f.b)(t,0,0,2/(a*r[0]),2/(a*r[1]),-n,-i[0],-i[1]),t},t.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniformFloatVec4=function(e,t){this.getGL().uniform4fv(this.getUniformLocation(e),t)},t.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},t.prototype.enableAttributeArray_=function(e,t,r,n,a){var i=this.getAttributeLocation(e);i<0||(this.getGL().enableVertexAttribArray(i),this.getGL().vertexAttribPointer(i,t,r,!1,n,a))},t.prototype.enableAttributes=function(e){for(var t=function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];t+=n.size*v(n.type)}return t}(e),r=0,n=0;n<e.length;n++){var a=e[n];this.enableAttributeArray_(a.name,a.size,a.type||u.d,t,r),r+=a.size*v(a.type)}},t.prototype.handleWebGLContextLost=function(){Object(l.b)(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(e,t,r){var n=this.getGL(),a=r||n.createTexture(),i=n.RGBA,o=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,a),t?n.texImage2D(n.TEXTURE_2D,0,i,o,s,t):n.texImage2D(n.TEXTURE_2D,0,i,e[0],e[1],0,o,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),a},t}(o.a);function v(e){switch(e){case d.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case d.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case d.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case d.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}t.c=T},d256:function(e,t,r){"use strict";var n=r("8897"),a=r("3498"),i={STATIC_DRAW:n.e,STREAM_DRAW:n.f,DYNAMIC_DRAW:n.b},o=function(){function e(e,t){this.array=null,this.type=e,Object(a.a)(e===n.a||e===n.c,62),this.usage=void 0!==t?t:i.STATIC_DRAW}return e.prototype.ofSize=function(e){this.array=new(s(this.type))(e)},e.prototype.fromArray=function(e){var t=s(this.type);this.array=t.from?t.from(e):new t(e)},e.prototype.fromArrayBuffer=function(e){this.array=new(s(this.type))(e)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}();function s(e){switch(e){case n.a:return Float32Array;case n.c:return Uint32Array;default:return Float32Array}}t.a=o},dfda:function(e,t,r){"use strict";function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function a(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},f4fc:function(e,t,r){"use strict";var n,a=r("61f0"),i=r("06f9"),o=r("f520"),s=r("bd40"),c=r("81a0"),u=r("3d7a"),l=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],h="enterfullscreen",_="leavefullscreen",p=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),target:n.target})||this).on,r.once,r.un,r.keys_=void 0!==n.keys&&n.keys,r.source_=n.source,r.isInFullscreen_=!1,r.boundHandleMapTargetChange_=r.handleMapTargetChange_.bind(r),r.cssClassName_=void 0!==n.className?n.className:"ol-full-screen",r.documentListeners_=[],r.activeClassName_=void 0!==n.activeClassName?n.activeClassName.split(" "):[r.cssClassName_+"-true"],r.inactiveClassName_=void 0!==n.inactiveClassName?n.inactiveClassName.split(" "):[r.cssClassName_+"-false"];var a=void 0!==n.label?n.label:"⤢";r.labelNode_="string"==typeof a?document.createTextNode(a):a;var o=void 0!==n.labelActive?n.labelActive:"×";r.labelActiveNode_="string"==typeof o?document.createTextNode(o):o;var c=n.tipLabel?n.tipLabel:"Toggle full-screen";return r.button_=document.createElement("button"),r.button_.title=c,r.button_.setAttribute("type","button"),r.button_.appendChild(r.labelNode_),r.button_.addEventListener(i.a.CLICK,r.handleClick_.bind(r),!1),r.setClassName_(r.button_,r.isInFullscreen_),r.element.className="".concat(r.cssClassName_," ").concat(s.e," ").concat(s.b),r.element.appendChild(r.button_),r}return l(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){var e=this.getMap();if(e){var t=e.getOwnerDocument();if(d(t))if(m(t))!function(e){e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}(t);else{var r=void 0;r=this.source_?"string"==typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():E(e)}(r):E(r)}}},t.prototype.handleFullScreenChange_=function(){var e=this.getMap();if(e){var t=this.isInFullscreen_;this.isInFullscreen_=m(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Object(u.h)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(h)):(Object(u.h)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(_)),e.updateSize())}},t.prototype.setClassName_=function(e,t){var r,n,a,i;t?((r=e.classList).remove.apply(r,this.inactiveClassName_),(n=e.classList).add.apply(n,this.activeClassName_)):((a=e.classList).remove.apply(a,this.activeClassName_),(i=e.classList).add.apply(i,this.inactiveClassName_))},t.prototype.setMap=function(t){var r=this.getMap();r&&r.removeChangeListener(o.a.TARGET,this.boundHandleMapTargetChange_),e.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener(o.a.TARGET,this.boundHandleMapTargetChange_)},t.prototype.handleMapTargetChange_=function(){for(var e=this.documentListeners_,t=0,r=e.length;t<r;++t)Object(c.c)(e[t]);e.length=0;var n=this.getMap();if(n){var a=n.getOwnerDocument();d(a)?this.element.classList.remove(s.f):this.element.classList.add(s.f);for(t=0,r=f.length;t<r;++t)e.push(Object(c.a)(a,f[t],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},t}(a.a);function d(e){var t=e.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&e.msFullscreenEnabled||t.requestFullscreen&&e.fullscreenEnabled)}function m(e){return!!(e.webkitIsFullScreen||e.msFullscreenElement||e.fullscreenElement)}function E(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}t.a=p}}]);
//# sourceMappingURL=chunk-0d4f3c53.205ad004.js.map