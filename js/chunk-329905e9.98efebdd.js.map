{"version":3,"sources":["webpack:///./src/hooks/updateMapSize.js","webpack:///./src/views/map-marker/add-picture/index.vue?d1f4","webpack:///./src/assets/blue.png","webpack:///./src/views/map-marker/add-picture/tools.js","webpack:///./src/views/map-marker/add-picture/index.vue","webpack:///./src/views/map-marker/add-picture/index.vue?b185","webpack:///./node_modules/.pnpm/ol@6.15.1/node_modules/ol/control/FullScreen.js"],"names":["map","targetNode","document","querySelector","observer","MutationObserver","mutationsList","mutation","type","attributeName","i","length","updateSize","observe","attributes","childList","subtree","onBeforeUnmount","disconnect","module","exports","createLabelStyle","Style","image","Icon","anchor","anchorOrigin","anchorXUnits","anchorYUnits","offsetOrigin","scale","opacity","src","require","state","reactive","vectorSource","raster","TileLayer","source","XYZ","attributions","ATTRIBUTIONS","url","MAPURL","maxZoom","onMounted","initMap","Map","target","layers","view","View","projection","center","SHENZHEN","zoom","controls","defaults","extend","FullScreen","iconFeature","Feature","geometry","Point","setStyle","VectorSource","features","vectorLayer","VectorLayer","addLayer","updateMapSize","on","evt","addVectorLabel","coordinate","name","newFeature","addFeature","__exports__","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","events","FullScreenEventType","_super","opt_options","_this","options","element","createElement","once","un","keys_","undefined","keys","source_","isInFullscreen_","boundHandleMapTargetChange_","handleMapTargetChange_","bind","cssClassName_","className","documentListeners_","activeClassName_","activeClassName","split","inactiveClassName_","inactiveClassName","label","labelNode_","createTextNode","labelActive","labelActiveNode_","tipLabel","button_","title","setAttribute","appendChild","addEventListener","CLICK","handleClick_","setClassName_","concat","event","preventDefault","handleFullScreen_","getMap","doc","getOwnerDocument","isFullScreenSupported","isFullScreen","exitFullscreen","exitFullScreen","getElementById","getTargetElement","requestFullScreen","requestFullScreenWithKeys","handleFullScreenChange_","wasInFullscreen","dispatchEvent","fullscreen","_a","_b","_c","_d","classList","remove","apply","add","setMap","oldMap","removeChangeListener","TARGET","addChangeListener","listeners","ii","push","body","requestFullscreen","fullscreenEnabled","fullscreenElement"],"mappings":"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","file":"js/chunk-329905e9.98efebdd.js","sourcesContent":["import { onBeforeUnmount } from \"vue\";\n\n/**\n * 监听侧边栏，侧边栏发生变化更新地图\n * @param {ol.Map} map 地图实例\n */\nexport default (...map) => {\n  // 选择需要观察变动的节点\n  const targetNode = document.querySelector(\n    \".el-aside .menu .el-scrollbar__view\"\n  );\n  // 观察器的配置（需要观察什么变动）\n  const config = { attributes: true, childList: true, subtree: true };\n  // 当观察到变动时执行的回调函数\n  const callback = function (mutationsList) {\n    // Use traditional 'for loops' for IE 11\n    for (let mutation of mutationsList) {\n      if (mutation.type === \"childList\") {\n        // console.log(\"已添加或删除子节点。\");\n      } else if (\n        mutation.type === \"attributes\" &&\n        mutation.attributeName === \"style\"\n      ) {\n        for (let i = 0; i < map.length; i++) {\n          map[i].updateSize();\n        }\n\n        // console.log(\"这个 \" + mutation.attributeName + \" 属性被修改。\");\n      }\n    }\n  };\n  // 创建一个观察器实例并传入回调函数\n  const observer = new MutationObserver(callback);\n\n  // 以上述配置开始观察目标节点\n  observer.observe(targetNode, config);\n\n  //卸载前\n  onBeforeUnmount(() => {\n    observer.disconnect();\n  });\n};\n","export * from \"-!../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.47.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.4.6_vue@3.4.6_webpack@4.47.0/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.47.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.4.6_vue@3.4.6_webpack@4.47.0/node_modules/vue-loader/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=59a14f86&scoped=true&lang=css\"","module.exports = \"data:image/png;base64,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\"","import { Style, Icon } from \"ol/style\";\nimport { Feature } from \"ol\";\nimport { Point } from \"ol/geom\";\n\n/**\n * 创建矢量标注样式函数,设置image为图标ol.style.Icon\n * @param {ol.Feature} feature 要素\n */\nexport const createLabelStyle = () =>\n  new Style({\n    image: new Icon({\n      //设置图标点\n      anchor: [0.5, 60],\n      //图标起点\n      anchorOrigin: \"top-right\",\n      //指定x值为图标点的x值\n      anchorXUnits: \"fraction\",\n      //指定Y值为像素的值\n      anchorYUnits: \"pixels\",\n      //偏移\n      offsetOrigin: \"top-right\",\n      // offset:[0,10],\n      //图标缩放比例\n      scale: 0.4,\n      //透明度\n      opacity: 0.75,\n      //图标的url\n      src: require(\"@/assets/blue.png\"),\n    }),\n  });\n\n/**\n * 添加一个新的标注（矢量要素）\n * @param {ol.Coordinate} coordinate 坐标点\n * @param {ol.source.Vector} vectorSource 矢量标注的数据源\n * @param {String} name 标注名\n */\nexport const addVectorLabel = ({\n  coordinate,\n  vectorSource,\n  name = \"标注点\",\n}) => {\n  //新建一个要素 ol.Feature\n  var newFeature = new Feature({\n    //几何信息\n    geometry: new Point(coordinate),\n    //名称属性\n    name,\n  });\n  //设置要素的样式\n  newFeature.setStyle(createLabelStyle(newFeature));\n  //将新要素添加到数据源中\n  vectorSource.addFeature(newFeature);\n};\n","<template>\n  <div id=\"top\">点击地图添加图片标注</div>\n  <div id=\"map\"></div>\n</template>\n\n<script setup>\n  import \"ol/ol.css\";\n  import { onMounted, reactive } from \"vue\";\n  import { Map, View, Feature } from \"ol\";\n  import { Tile as TileLayer, Vector as VectorLayer } from \"ol/layer\";\n  import { defaults, FullScreen } from \"ol/control\";\n  import { XYZ, Vector as VectorSource } from \"ol/source\";\n  import { Point } from \"ol/geom\";\n  import { ATTRIBUTIONS, SHENZHEN, MAPURL } from \"@/constants\";\n  import { createLabelStyle, addVectorLabel } from \"./tools\";\n  import updateMapSize from \"@/hooks/updateMapSize\";\n\n  const state = reactive({\n    map: null,\n    vectorSource: null,\n  });\n  const raster = new TileLayer({\n    source: new XYZ({\n      attributions: ATTRIBUTIONS,\n      url: MAPURL,\n      maxZoom: 20,\n    }),\n  });\n  const initMap = () => {\n    state.map = new Map({\n      //初始化map\n      target: \"map\",\n      //地图容器中加载的图层\n      layers: [\n        //加载瓦片图层数据\n        raster,\n      ],\n      view: new View({\n        projection: \"EPSG:4326\", // 坐标系，有EPSG:4326和EPSG:3 857\n        center: SHENZHEN, // 深圳坐标\n        //地图初始显示级别\n        zoom: 5,\n      }),\n      //加载控件到地图容器中\n      controls: defaults().extend([\n        new FullScreen(), //加载全屏显示控件（目前支持非IE内核浏览器）\n      ]),\n    });\n    //实例化Vector要素，通过矢量图层添加到地图容器中\n    const iconFeature = new Feature({\n      geometry: new Point(SHENZHEN),\n    });\n    iconFeature.setStyle(createLabelStyle(iconFeature));\n    //矢量标注的数据源\n    state.vectorSource = new VectorSource({\n      features: [iconFeature],\n    });\n    //矢量标注图层\n    const vectorLayer = new VectorLayer({\n      source: state.vectorSource,\n    });\n    state.map.addLayer(vectorLayer);\n    // 侧边栏变化更新地图\n    updateMapSize(state.map);\n  };\n\n  onMounted(() => {\n    initMap();\n    state.map.on(\"click\", (evt) => {\n      //鼠标单击点坐标\n      const coordinate = evt.coordinate;\n      //添加一个新的标注（矢量要素）\n      addVectorLabel({\n        coordinate,\n        vectorSource: state.vectorSource,\n      });\n    });\n  });\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  #map {\n    position: absolute;\n    top: 50px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n  #top {\n    text-align: center;\n    height: 50px;\n    line-height: 50px;\n  }\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=59a14f86&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/openlayers/openlayers/node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.4.6_vue@3.4.6_webpack@4.47.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-59a14f86\"]])\n\nexport default __exports__","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/FullScreen\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport MapProperty from '../MapProperty.js';\nimport { CLASS_CONTROL, CLASS_UNSELECTABLE, CLASS_UNSUPPORTED } from '../css.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { replaceNode } from '../dom.js';\nvar events = [\n    'fullscreenchange',\n    'webkitfullscreenchange',\n    'MSFullscreenChange',\n];\n/**\n * @enum {string}\n */\nvar FullScreenEventType = {\n    /**\n     * Triggered after the map entered fullscreen.\n     * @event FullScreenEventType#enterfullscreen\n     * @api\n     */\n    ENTERFULLSCREEN: 'enterfullscreen',\n    /**\n     * Triggered after the map leave fullscreen.\n     * @event FullScreenEventType#leavefullscreen\n     * @api\n     */\n    LEAVEFULLSCREEN: 'leavefullscreen',\n};\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes|\n *     'enterfullscreen'|'leavefullscreen', import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|\n *     'enterfullscreen'|'leavefullscreen'|import(\"../ObjectEventType\").Types, Return>} FullScreenOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-full-screen'] CSS class name.\n * @property {string|Text|HTMLElement} [label='\\u2922'] Text label to use for the button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|Text|HTMLElement} [labelActive='\\u00d7'] Text label to use for the\n * button when full-screen is active.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [activeClassName=className + '-true'] CSS class name for the button\n * when full-screen is active.\n * @property {string} [inactiveClassName=className + '-false'] CSS class name for the button\n * when full-screen is inactive.\n * @property {string} [tipLabel='Toggle full-screen'] Text label to use for the button tip.\n * @property {boolean} [keys=false] Full keyboard access.\n * @property {HTMLElement|string} [target] Specify a target if you want the\n * control to be rendered outside of the map's viewport.\n * @property {HTMLElement|string} [source] The element to be displayed\n * fullscreen. When not provided, the element containing the map viewport will\n * be displayed fullscreen.\n */\n/**\n * @classdesc\n * Provides a button that when clicked fills up the full screen with the map.\n * The full screen source element is by default the element containing the map viewport unless\n * overridden by providing the `source` option. In which case, the dom\n * element introduced using this parameter will be displayed in full screen.\n *\n * When in full screen mode, a close button is shown to exit full screen mode.\n * The [Fullscreen API](https://www.w3.org/TR/fullscreen/) is used to\n * toggle the map in full screen mode.\n *\n * @fires FullScreenEventType#enterfullscreen\n * @fires FullScreenEventType#leavefullscreen\n * @api\n */\nvar FullScreen = /** @class */ (function (_super) {\n    __extends(FullScreen, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function FullScreen(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            target: options.target,\n        }) || this;\n        /***\n         * @type {FullScreenOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {FullScreenOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {FullScreenOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.keys_ = options.keys !== undefined ? options.keys : false;\n        /**\n         * @private\n         * @type {HTMLElement|string|undefined}\n         */\n        _this.source_ = options.source;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.isInFullscreen_ = false;\n        /**\n         * @private\n         */\n        _this.boundHandleMapTargetChange_ = _this.handleMapTargetChange_.bind(_this);\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.cssClassName_ =\n            options.className !== undefined ? options.className : 'ol-full-screen';\n        /**\n         * @private\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.documentListeners_ = [];\n        /**\n         * @private\n         * @type {Array<string>}\n         */\n        _this.activeClassName_ =\n            options.activeClassName !== undefined\n                ? options.activeClassName.split(' ')\n                : [_this.cssClassName_ + '-true'];\n        /**\n         * @private\n         * @type {Array<string>}\n         */\n        _this.inactiveClassName_ =\n            options.inactiveClassName !== undefined\n                ? options.inactiveClassName.split(' ')\n                : [_this.cssClassName_ + '-false'];\n        var label = options.label !== undefined ? options.label : '\\u2922';\n        /**\n         * @private\n         * @type {Text|HTMLElement}\n         */\n        _this.labelNode_ =\n            typeof label === 'string' ? document.createTextNode(label) : label;\n        var labelActive = options.labelActive !== undefined ? options.labelActive : '\\u00d7';\n        /**\n         * @private\n         * @type {Text|HTMLElement}\n         */\n        _this.labelActiveNode_ =\n            typeof labelActive === 'string'\n                ? document.createTextNode(labelActive)\n                : labelActive;\n        var tipLabel = options.tipLabel ? options.tipLabel : 'Toggle full-screen';\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.button_ = document.createElement('button');\n        _this.button_.title = tipLabel;\n        _this.button_.setAttribute('type', 'button');\n        _this.button_.appendChild(_this.labelNode_);\n        _this.button_.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        _this.setClassName_(_this.button_, _this.isInFullscreen_);\n        _this.element.className = \"\".concat(_this.cssClassName_, \" \").concat(CLASS_UNSELECTABLE, \" \").concat(CLASS_CONTROL);\n        _this.element.appendChild(_this.button_);\n        return _this;\n    }\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    FullScreen.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        this.handleFullScreen_();\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreen_ = function () {\n        var map = this.getMap();\n        if (!map) {\n            return;\n        }\n        var doc = map.getOwnerDocument();\n        if (!isFullScreenSupported(doc)) {\n            return;\n        }\n        if (isFullScreen(doc)) {\n            exitFullScreen(doc);\n        }\n        else {\n            var element = void 0;\n            if (this.source_) {\n                element =\n                    typeof this.source_ === 'string'\n                        ? doc.getElementById(this.source_)\n                        : this.source_;\n            }\n            else {\n                element = map.getTargetElement();\n            }\n            if (this.keys_) {\n                requestFullScreenWithKeys(element);\n            }\n            else {\n                requestFullScreen(element);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreenChange_ = function () {\n        var map = this.getMap();\n        if (!map) {\n            return;\n        }\n        var wasInFullscreen = this.isInFullscreen_;\n        this.isInFullscreen_ = isFullScreen(map.getOwnerDocument());\n        if (wasInFullscreen !== this.isInFullscreen_) {\n            this.setClassName_(this.button_, this.isInFullscreen_);\n            if (this.isInFullscreen_) {\n                replaceNode(this.labelActiveNode_, this.labelNode_);\n                this.dispatchEvent(FullScreenEventType.ENTERFULLSCREEN);\n            }\n            else {\n                replaceNode(this.labelNode_, this.labelActiveNode_);\n                this.dispatchEvent(FullScreenEventType.LEAVEFULLSCREEN);\n            }\n            map.updateSize();\n        }\n    };\n    /**\n     * @param {HTMLElement} element Target element\n     * @param {boolean} fullscreen True if fullscreen class name should be active\n     * @private\n     */\n    FullScreen.prototype.setClassName_ = function (element, fullscreen) {\n        var _a, _b, _c, _d;\n        if (fullscreen) {\n            (_a = element.classList).remove.apply(_a, this.inactiveClassName_);\n            (_b = element.classList).add.apply(_b, this.activeClassName_);\n        }\n        else {\n            (_c = element.classList).remove.apply(_c, this.activeClassName_);\n            (_d = element.classList).add.apply(_d, this.inactiveClassName_);\n        }\n    };\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Pass `null` to just remove the control from the current map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     * @api\n     */\n    FullScreen.prototype.setMap = function (map) {\n        var oldMap = this.getMap();\n        if (oldMap) {\n            oldMap.removeChangeListener(MapProperty.TARGET, this.boundHandleMapTargetChange_);\n        }\n        _super.prototype.setMap.call(this, map);\n        this.handleMapTargetChange_();\n        if (map) {\n            map.addChangeListener(MapProperty.TARGET, this.boundHandleMapTargetChange_);\n        }\n    };\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleMapTargetChange_ = function () {\n        var listeners = this.documentListeners_;\n        for (var i = 0, ii = listeners.length; i < ii; ++i) {\n            unlistenByKey(listeners[i]);\n        }\n        listeners.length = 0;\n        var map = this.getMap();\n        if (map) {\n            var doc = map.getOwnerDocument();\n            if (isFullScreenSupported(doc)) {\n                this.element.classList.remove(CLASS_UNSUPPORTED);\n            }\n            else {\n                this.element.classList.add(CLASS_UNSUPPORTED);\n            }\n            for (var i = 0, ii = events.length; i < ii; ++i) {\n                listeners.push(listen(doc, events[i], this.handleFullScreenChange_, this));\n            }\n            this.handleFullScreenChange_();\n        }\n    };\n    return FullScreen;\n}(Control));\n/**\n * @param {Document} doc The root document to check.\n * @return {boolean} Fullscreen is supported by the current platform.\n */\nfunction isFullScreenSupported(doc) {\n    var body = doc.body;\n    return !!(body['webkitRequestFullscreen'] ||\n        (body['msRequestFullscreen'] && doc['msFullscreenEnabled']) ||\n        (body.requestFullscreen && doc.fullscreenEnabled));\n}\n/**\n * @param {Document} doc The root document to check.\n * @return {boolean} Element is currently in fullscreen.\n */\nfunction isFullScreen(doc) {\n    return !!(doc['webkitIsFullScreen'] ||\n        doc['msFullscreenElement'] ||\n        doc.fullscreenElement);\n}\n/**\n * Request to fullscreen an element.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreen(element) {\n    if (element.requestFullscreen) {\n        element.requestFullscreen();\n    }\n    else if (element['msRequestFullscreen']) {\n        element['msRequestFullscreen']();\n    }\n    else if (element['webkitRequestFullscreen']) {\n        element['webkitRequestFullscreen']();\n    }\n}\n/**\n * Request to fullscreen an element with keyboard input.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreenWithKeys(element) {\n    if (element['webkitRequestFullscreen']) {\n        element['webkitRequestFullscreen']();\n    }\n    else {\n        requestFullScreen(element);\n    }\n}\n/**\n * Exit fullscreen.\n * @param {Document} doc The document to exit fullscren from\n */\nfunction exitFullScreen(doc) {\n    if (doc.exitFullscreen) {\n        doc.exitFullscreen();\n    }\n    else if (doc['msExitFullscreen']) {\n        doc['msExitFullscreen']();\n    }\n    else if (doc['webkitExitFullscreen']) {\n        doc['webkitExitFullscreen']();\n    }\n}\nexport default FullScreen;\n//# sourceMappingURL=FullScreen.js.map"],"sourceRoot":""}